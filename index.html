<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Portal corporativo de ferramentas IS-FIELD do Mercado Livre - Acesso centralizado a links, sistemas e recursos internos.">
  <meta name="author" content="IS-FIELD Team - Mercado Livre">

  <!-- 11. Content Security Policy -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.pixabay.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://fonts.gstatic.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' https: data:; connect-src 'self' https://api.open-meteo.com https://geocoding-api.open-meteo.com https://api.bigdatacloud.net https://wttr.in; media-src 'self' https://cdn.pixabay.com;">

  <title>IS Tools | Portal Corporativo - Mercado Livre</title>
  <link rel="icon" href="https://i.imgur.com/U0qdo1j.png">

  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- QRCode.js Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <style>
    :root {
      /* üé® CORES OFICIAIS MERCADO LIVRE (2024) */
      --ml-yellow: #FFE600;
      --ml-yellow-dark: #E6D000;
      --ml-yellow-darker: #CCB800;
      --ml-yellow-light: #FFF4B3;
      --ml-yellow-ultralight: #FFFCE5;
      --ml-yellow-glow: rgba(255, 230, 0, 0.35);

      --ml-blue: #2D3277;
      --ml-blue-light: #4A54A8;
      --ml-blue-lighter: #6B76C0;
      --ml-blue-ultralight: #E8EAFF;
      --ml-blue-dark: #1F2454;
      --ml-blue-darker: #141833;
      --ml-blue-glow: rgba(45, 50, 119, 0.35);

      /* Cores Complementares ML */
      --ml-aqua: #3483FA;
      --ml-aqua-light: #5A9EFB;
      --ml-aqua-dark: #2968C8;
      --ml-aqua-glow: rgba(52, 131, 250, 0.35);

      /* Paleta de Texto Corporativo */
      --ml-text-primary: #1A1A1A;
      --ml-text-secondary: #4A4A4A;
      --ml-text-tertiary: #6E6E6E;
      --ml-text-light: #999999;

      /* Bordas e Fundos */
      --ml-border-light: #E5E5E5;
      --ml-border-medium: #D0D0D0;
      --ml-background: #F7F7F7;
      --ml-background-dark: #EBEBEB;
      --ml-white: #FFFFFF;
      --ml-glass-bg: rgba(255, 255, 255, 0.75);

      /* Cores de Status */
      --ml-green: #00A650;
      --ml-green-dark: #008C44;
      --ml-success-bg: #E8F7F0;
      --ml-orange: #FF6D00;
      --ml-orange-light: #FF8C3A;
      --ml-red: #E60023;
      --ml-red-light: #FF3355;

      /* Sombras Profissionais */
      --shadow-xs: 0 1px 3px rgba(0,0,0,0.06);
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
      --shadow-md: 0 4px 16px rgba(0,0,0,0.10);
      --shadow-lg: 0 8px 28px rgba(0,0,0,0.12);
      --shadow-xl: 0 16px 48px rgba(0,0,0,0.15);
      --shadow-yellow: 0 8px 28px var(--ml-yellow-glow);
      --shadow-blue: 0 8px 28px var(--ml-blue-glow);
      --shadow-aqua: 0 8px 28px var(--ml-aqua-glow);
    }

    /* üåô DARK MODE */
    :root[data-theme="dark"] {
      --ml-background: #0F0F0F;
      --ml-background-dark: #060606;
      --ml-white: #1A1A1A;
      --ml-glass-bg: rgba(26, 26, 26, 0.85);
      --ml-text-primary: #E8E8E8;
      --ml-text-secondary: #B8B8B8;
      --ml-text-tertiary: #888888;
      --ml-text-light: #666666;
      --ml-border-light: #333333;
      --ml-border-medium: #444444;
      --ml-blue-ultralight: #1A1D3D;
      --ml-success-bg: #0D2419;
    }

    /* üé® HIGH CONTRAST MODE */
    :root[data-theme="highContrast"] {
      --ml-background: #000000;
      --ml-background-dark: #000000;
      --ml-white: #000000;
      --ml-glass-bg: rgba(0, 0, 0, 0.95);
      --ml-text-primary: #FFFFFF;
      --ml-text-secondary: #FFFFFF;
      --ml-text-tertiary: #FFFF00;
      --ml-text-light: #FFFF00;
      --ml-border-light: #FFFF00;
      --ml-border-medium: #FFFF00;
      --ml-yellow: #FFFF00;
      --ml-blue: #00FFFF;
      --ml-aqua: #00FFFF;
    }

    /* üåà MELI CLASSIC MODE (Mais Vibrante) */
    :root[data-theme="meliClassic"] {
      --ml-yellow: #FFEB3B;
      --ml-yellow-glow: rgba(255, 235, 59, 0.5);
      --ml-blue: #2962FF;
      --ml-blue-glow: rgba(41, 98, 255, 0.5);
      --ml-aqua: #00B0FF;
      --ml-green: #00E676;
      --ml-orange: #FF6F00;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    html, body {
      width: 100%;
      min-height: 100%;
      background: var(--ml-background);
      font-family: 'Inter', 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      color: var(--ml-text-primary);
      line-height: 1.6;
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      transition: background 0.3s ease, color 0.3s ease;
    }

    /* 21. Modo de Apresenta√ß√£o */
    body.presentation-mode { cursor: none; }
    body.presentation-mode .header-actions,
    body.presentation-mode .breadcrumb-section,
    body.presentation-mode .corporate-footer { display: none; }
    body.presentation-mode .main-container { max-width: 100%; padding: 2rem; }

    /* ===== 3. SKELETON LOADING ===== */
    .skeleton-card {
      background: linear-gradient(90deg, var(--ml-background) 25%, var(--ml-background-dark) 50%, var(--ml-background) 75%);
      background-size: 200% 100%;
      animation: skeletonLoading 1.5s infinite;
      border-radius: 14px;
      height: 180px;
      border: 2px solid var(--ml-border-light);
    }
    @keyframes skeletonLoading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    /* ===== LOADING SCREEN CORPORATIVO ===== */
    .loading-screen {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: linear-gradient(135deg, var(--ml-blue-darker) 0%, var(--ml-blue) 50%, var(--ml-aqua) 100%);
      background-size: 200% 200%;
      animation: gradientShift 3s ease infinite, fadeOut 0.6s ease-in-out 1.3s forwards;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10000;
    }
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .loading-container { text-align: center; }
    .loading-logo {
      width: 90px; height: 90px;
      background: var(--ml-white);
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 15px;
      margin: 0 auto 1.5rem;
      box-shadow: 0 12px 48px rgba(255, 230, 0, 0.6), 0 0 60px rgba(45, 50, 119, 0.6);
      animation: pulse 2s ease-in-out infinite;
    }
    .loading-logo img { width: 100%; height: 100%; object-fit: contain; }
    .loading-text {
      color: var(--ml-white);
      font-size: 1.25rem;
      font-weight: 700;
      letter-spacing: 1px;
      margin-bottom: 0.5rem;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    .loading-subtext { color: rgba(255,255,255,0.9); font-size: 0.95rem; font-weight: 500; }
    .loading-progress {
      width: 200px; height: 4px;
      background: rgba(255,255,255,0.2);
      border-radius: 2px;
      margin-top: 1.5rem;
      overflow: hidden;
    }
    .loading-bar {
      width: 0; height: 100%;
      background: linear-gradient(90deg, var(--ml-yellow), var(--ml-yellow-dark), var(--ml-yellow));
      background-size: 200% 100%;
      animation: loadProgress 1.3s ease-out forwards, shimmerBar 1.5s linear infinite;
      box-shadow: 0 0 20px var(--ml-yellow-glow);
    }
    @keyframes loadProgress { to { width: 100%; } }
    @keyframes shimmerBar {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
    @keyframes fadeOut { to { opacity: 0; visibility: hidden; } }
    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 12px 48px rgba(255, 230, 0, 0.6), 0 0 60px rgba(45, 50, 119, 0.6);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 0 16px 56px rgba(255, 230, 0, 0.8), 0 0 80px rgba(45, 50, 119, 0.8);
      }
    }

    /* ===== MODAL ANIMA√á√ïES (reutilizadas) ===== */
    @keyframes fadeInModal { from { opacity: 0; } to { opacity: 1; } }
    @keyframes scaleInModal { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    /* ===== MODAL DE CONFIGURA√á√ÉO DE PERFIL ===== */
    .profile-config-modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(20px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      animation: fadeInModal 0.3s ease-out;
    }
    .profile-config-modal.active { display: flex; }
    .profile-config-content {
      background: var(--ml-white);
      border-radius: 24px;
      padding: 2.5rem;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 32px 80px rgba(0, 0, 0, 0.4);
      animation: scaleInModal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      border: 4px solid var(--ml-yellow);
      max-height: 90vh;
      overflow-y: auto;
    }
    .profile-config-header {
      text-align: center;
      margin-bottom: 2rem;
      padding-bottom: 1.5rem;
      border-bottom: 3px solid transparent;
      border-image: linear-gradient(90deg, var(--ml-yellow), var(--ml-blue)) 1;
    }
    .profile-config-title {
      font-size: 2rem;
      font-weight: 900;
      color: var(--ml-text-primary);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
    }
    .profile-config-subtitle { font-size: 1rem; color: var(--ml-text-secondary); font-weight: 600; }
    .profile-form-group { margin-bottom: 1.75rem; }
    .profile-form-label {
      display: block;
      font-weight: 700;
      font-size: 1.05rem;
      color: var(--ml-text-primary);
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .profile-form-input {
      width: 100%;
      padding: 1rem 1.25rem;
      border: 2px solid var(--ml-border-medium);
      border-radius: 12px;
      font-size: 1rem;
      background: var(--ml-background);
      color: var(--ml-text-primary);
      transition: all 0.3s ease;
      font-family: inherit;
      font-weight: 500;
    }
    .profile-form-input:focus {
      outline: none;
      border-color: var(--ml-blue);
      box-shadow: 0 0 0 4px var(--ml-blue-glow);
      background: var(--ml-white);
    }
    .profile-shift-options,
    .profile-days-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 0.75rem;
    }
    .profile-shift-option, .profile-day-option { position: relative; }
    .profile-shift-option input, .profile-day-option input {
      position: absolute; opacity: 0; width: 0; height: 0;
    }
    .profile-shift-label, .profile-day-label {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      border: 2px solid var(--ml-border-medium);
      border-radius: 12px;
      background: var(--ml-background);
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      min-height: 80px;
    }
    .profile-shift-label:hover, .profile-day-label:hover {
      border-color: var(--ml-blue);
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }
    .profile-shift-option input:checked + .profile-shift-label,
    .profile-day-option input:checked + .profile-day-label {
      background: linear-gradient(135deg, var(--ml-yellow), var(--ml-yellow-dark));
      border-color: var(--ml-yellow-dark);
      font-weight: 700;
      box-shadow: var(--shadow-yellow);
    }
    .profile-shift-name, .profile-day-name {
      font-weight: 700;
      font-size: 1rem;
      color: var(--ml-text-primary);
      margin-bottom: 0.25rem;
    }
    .profile-shift-time { font-size: 0.8rem; color: var(--ml-text-tertiary); font-weight: 600; }
    .profile-day-short { font-size: 0.75rem; color: var(--ml-text-tertiary); font-weight: 600; margin-top: 0.25rem; }
    .profile-form-actions { display: flex; gap: 1rem; margin-top: 2rem; }
    .profile-btn-save, .profile-btn-cancel {
      flex: 1;
      padding: 1rem 2rem;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      border: none;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .profile-btn-save {
      background: linear-gradient(135deg, var(--ml-blue), var(--ml-blue-dark));
      color: white;
      box-shadow: var(--shadow-blue);
    }
    .profile-btn-save:hover { transform: translateY(-2px); box-shadow: 0 12px 32px var(--ml-blue-glow); }
    .profile-btn-cancel {
      background: var(--ml-background-dark);
      color: var(--ml-text-secondary);
      border: 2px solid var(--ml-border-medium);
    }
    .profile-btn-cancel:hover {
      background: var(--ml-red);
      color: white;
      border-color: var(--ml-red);
      transform: translateY(-2px);
    }

    /* ===== HEADER GLASSMORPHISM ===== */
    .corporate-header {
      background: var(--ml-glass-bg);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid rgba(0,0,0,0.08);
      box-shadow: var(--shadow-md);
      position: sticky;
      top: 0;
      z-index: 1000;
      animation: slideDown 0.6s ease-out;
      transition: all 0.3s ease;
    }
    :root[data-theme="dark"] .corporate-header { border-bottom: 1px solid rgba(255,255,255,0.08); }
    @keyframes slideDown {
      from { transform: translateY(-100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .header-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 2rem;
    }
    .brand-section { display: flex; align-items: center; gap: 1rem; }
    .brand-logo {
      width: 52px;
      height: 52px;
      background: linear-gradient(135deg, var(--ml-yellow) 0%, var(--ml-yellow-dark) 100%);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow-yellow);
      transition: transform 0.3s ease;
      padding: 8px;
      overflow: hidden;
      animation: breathe 4s ease-in-out infinite;
    }
    @keyframes breathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.03); } }
    .brand-logo:hover { transform: scale(1.08) rotate(5deg); box-shadow: 0 12px 36px var(--ml-yellow-glow); }
    .brand-logo img { width: 100%; height: 100%; object-fit: contain; }
    .brand-info { display: flex; flex-direction: column; }
    .brand-title {
      font-size: 1.35rem;
      font-weight: 800;
      color: var(--ml-text-primary);
      letter-spacing: -0.5px;
      line-height: 1.2;
    }
    .brand-subtitle {
      font-size: 0.75rem;
      color: var(--ml-text-tertiary);
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: 600;
    }
    .header-actions { display: flex; gap: 1rem; align-items: center; }

    /* üé® THEME SELECTOR PREMIUM */
    .theme-selector { position: relative; }
    .theme-toggle {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: 2px solid var(--ml-border-light);
      background: var(--ml-background-dark);
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      position: relative;
    }
    .theme-toggle:hover {
      transform: rotate(20deg) scale(1.1);
      background: var(--ml-yellow);
      border-color: var(--ml-yellow-dark);
      box-shadow: var(--shadow-yellow);
    }
    .theme-dropdown {
      position: absolute;
      top: calc(100% + 0.5rem);
      right: 0;
      background: var(--ml-white);
      border: 2px solid var(--ml-border-light);
      border-radius: 12px;
      padding: 0.75rem;
      min-width: 200px;
      box-shadow: var(--shadow-lg);
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1000;
    }
    .theme-dropdown.active { opacity: 1; visibility: visible; transform: translateY(0); }
    .theme-option {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      border: 2px solid transparent;
    }
    .theme-option:hover { background: var(--ml-background); border-color: var(--ml-yellow); }
    .theme-option.active { background: var(--ml-yellow-ultralight); border-color: var(--ml-yellow); font-weight: 700; }
    .theme-preview {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      border: 2px solid var(--ml-border-light);
      display: flex;
      overflow: hidden;
    }
    .theme-preview-split { flex: 1; }
    .theme-option-label { flex: 1; font-size: 0.9rem; color: var(--ml-text-primary); }

    /* 14. Menu Hamburger */
    .hamburger-menu {
      display: none;
      width: 44px; height: 44px;
      background: var(--ml-background-dark);
      border: 2px solid var(--ml-border-light);
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.5rem;
      color: var(--ml-text-primary);
      transition: all 0.3s ease;
    }
    .hamburger-menu:hover {
      background: var(--ml-yellow);
      border-color: var(--ml-yellow-dark);
      transform: scale(1.1);
    }
    .hamburger-menu.active { background: var(--ml-yellow); }

    .mobile-nav {
      position: fixed;
      top: 0;
      right: -100%;
      width: 300px;
      height: 100vh;
      background: var(--ml-white);
      box-shadow: -4px 0 20px rgba(0,0,0,0.15);
      z-index: 9999;
      padding: 2rem;
      transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow-y: auto;
    }
    .mobile-nav.active { right: 0; }
    .mobile-nav-header {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid var(--ml-border-light);
    }
    .mobile-nav-title { font-size: 1.2rem; font-weight: 700; color: var(--ml-text-primary); }
    .mobile-nav-close {
      width: 36px; height: 36px;
      background: var(--ml-background-dark);
      border: none;
      border-radius: 8px;
      font-size: 1.3rem;
      cursor: pointer;
      color: var(--ml-text-primary);
      transition: all 0.3s ease;
    }
    .mobile-nav-close:hover { background: var(--ml-red); color: white; transform: rotate(90deg); }
    .mobile-nav-item {
      padding: 1rem;
      margin-bottom: 0.75rem;
      background: var(--ml-background);
      border-radius: 10px;
      border: 2px solid var(--ml-border-light);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .mobile-nav-item:hover { border-color: var(--ml-yellow); transform: translateX(5px); }
    .mobile-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(4px);
      z-index: 9998;
      opacity: 0;
      visibility: hidden;
      transition: all 0.4s ease;
    }
    .mobile-overlay.active { opacity: 1; visibility: visible; }

    /* Connection Status */
    .connection-status {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: var(--ml-success-bg);
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--ml-green-dark);
      border: 1px solid rgba(0, 166, 80, 0.2);
    }
    .status-dot {
      width: 8px; height: 8px;
      background: var(--ml-green);
      border-radius: 50%;
      animation: statusPulse 2s ease-in-out infinite;
      box-shadow: 0 0 10px var(--ml-green);
    }
    @keyframes statusPulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(1.2); }
    }

    /* ‚òÅÔ∏èüå°Ô∏è WEATHER WIDGET ULTRA PREMIUM */
    .weather-widget {
      display: flex;
      align-items: center;
      gap: 1.25rem;
      padding: 1rem 1.75rem;
      background: linear-gradient(135deg, rgba(45, 50, 119, 0.12), rgba(52, 131, 250, 0.08));
      backdrop-filter: blur(30px) saturate(200%);
      -webkit-backdrop-filter: blur(30px) saturate(200%);
      border: 2px solid rgba(45, 50, 119, 0.25);
      border-radius: 32px;
      font-size: 0.9rem;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      box-shadow: 0 4px 24px rgba(45, 50, 119, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.2);
      position: relative;
      overflow: hidden;
    }
    .weather-widget::before {
      content: '';
      position: absolute;
      top: 0; left: -100%;
      width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.25), transparent);
      transition: left 0.6s ease;
    }
    .weather-widget:hover::before { left: 100%; }
    .weather-widget:hover {
      background: linear-gradient(135deg, rgba(45, 50, 119, 0.22), rgba(52, 131, 250, 0.15));
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 10px 40px rgba(45, 50, 119, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.35);
      border-color: var(--ml-blue);
    }
    .weather-widget:active { transform: translateY(-3px) scale(1.01); transition-duration: 0.1s; }

    .weather-icon {
      font-size: 2.8rem;
      animation: float 3s ease-in-out infinite;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,0.2));
      transition: transform 0.3s ease;
    }
    .weather-widget:hover .weather-icon {
      transform: scale(1.2) rotate(8deg);
      animation-play-state: paused;
    }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }

    .weather-info { display: flex; flex-direction: column; line-height: 1.5; gap: 4px; }
    .weather-temp {
      font-weight: 900;
      color: var(--ml-text-primary);
      font-size: 1.5rem;
      letter-spacing: -1px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      display: flex;
      align-items: baseline;
      gap: 0.5rem;
    }
    .weather-feels-like { font-size: 0.75rem; font-weight: 600; color: var(--ml-text-tertiary); opacity: 0.8; }
    .weather-widget:hover .weather-temp { color: var(--ml-blue); transform: translateX(3px); }

    .weather-location {
      font-size: 0.85rem;
      color: var(--ml-text-secondary);
      font-weight: 700;
      text-decoration: underline;
      text-decoration-style: dotted;
      text-decoration-color: var(--ml-blue);
      text-decoration-thickness: 2px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }
    .weather-location:hover { color: var(--ml-blue); text-decoration-style: solid; }

    .weather-description {
      font-size: 0.8rem;
      color: var(--ml-blue);
      font-weight: 800;
      text-transform: capitalize;
      background: rgba(45, 50, 119, 0.12);
      padding: 3px 10px;
      border-radius: 12px;
      display: inline-block;
      align-self: flex-start;
      transition: all 0.3s ease;
      border: 1px solid rgba(45, 50, 119, 0.15);
    }
    .weather-widget:hover .weather-description {
      background: rgba(45, 50, 119, 0.22);
      transform: translateX(3px);
      border-color: var(--ml-blue);
    }
    .weather-details-mini {
      display: flex;
      gap: 1rem;
      font-size: 0.75rem;
      color: var(--ml-text-tertiary);
      font-weight: 600;
      margin-top: 2px;
    }
    .weather-detail-mini { display: flex; align-items: center; gap: 0.25rem; }

    /* User Info */
    .user-info {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.5rem 1rem;
      background: var(--ml-background);
      border-radius: 24px;
      transition: all 0.3s ease;
      cursor: pointer;
      border: 2px solid var(--ml-border-light);
    }
    .user-info:hover {
      background: var(--ml-yellow-light);
      border-color: var(--ml-yellow);
      transform: translateY(-2px);
      box-shadow: var(--shadow-yellow);
    }
    .user-avatar {
      width: 36px; height: 36px;
      background: linear-gradient(135deg, var(--ml-blue), var(--ml-blue-dark));
      color: var(--ml-white);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      font-weight: 700;
      border: 2px solid var(--ml-yellow);
      box-shadow: 0 0 16px var(--ml-yellow-glow);
      overflow: hidden;
    }
    .user-avatar img { width: 100%; height: 100%; object-fit: cover; }
    .user-details { display: flex; flex-direction: column; line-height: 1.3; }
    .user-name { font-weight: 700; color: var(--ml-text-primary); font-size: 0.9rem; }
    .user-role { font-size: 0.75rem; color: var(--ml-text-tertiary); font-weight: 500; }

    .header-badge {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background: linear-gradient(135deg, var(--ml-yellow), var(--ml-yellow-dark));
      border-radius: 24px;
      font-size: 0.85rem;
      font-weight: 700;
      color: var(--ml-text-primary);
      transition: all 0.3s ease;
      box-shadow: var(--shadow-yellow);
    }
    .header-badge:hover { transform: translateY(-2px); box-shadow: 0 12px 32px var(--ml-yellow-glow); }

    /* 21. Presentation Mode Button */
    .presentation-btn {
      width: 44px; height: 44px;
      border-radius: 50%;
      border: 2px solid var(--ml-border-light);
      background: var(--ml-background-dark);
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }
    .presentation-btn:hover {
      background: var(--ml-aqua);
      color: white;
      border-color: var(--ml-aqua-dark);
      transform: scale(1.1);
      box-shadow: var(--shadow-aqua);
    }
    /* ===== BREADCRUMB ===== */
    .breadcrumb-section {
      background: var(--ml-background-dark);
      border-bottom: 1px solid var(--ml-border-light);
    }
    .breadcrumb-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0.75rem 2rem;
    }
    .breadcrumb {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.85rem;
      flex-wrap: wrap;
    }
    .breadcrumb-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--ml-text-tertiary);
    }
    .breadcrumb-link {
      color: var(--ml-blue);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.2s ease;
      position: relative;
    }
    .breadcrumb-link::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--ml-yellow);
      transition: width 0.3s ease;
    }
    .breadcrumb-link:hover::after { width: 100%; }
    .breadcrumb-link:hover { color: var(--ml-blue-dark); }
    .breadcrumb-separator { color: var(--ml-text-light); user-select: none; }

    /* ===== HERO SECTION ===== */
    .hero-section {
      background: linear-gradient(270deg, var(--ml-blue-darker), var(--ml-blue), var(--ml-yellow), var(--ml-aqua));
      background-size: 800% 800%;
      animation: gradientShiftHero 20s ease infinite;
      color: var(--ml-white);
      padding: 4rem 2rem 3rem;
      position: relative;
      overflow: hidden;
    }
    .hero-section::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background:
        radial-gradient(circle at 20% 50%, var(--ml-yellow-glow) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(255,230,0,0.15) 0%, transparent 50%);
      pointer-events: none;
    }
    @keyframes gradientShiftHero {
      0% { background-position: 0% 50%; }
      25% { background-position: 50% 50%; }
      50% { background-position: 100% 50%; }
      75% { background-position: 50% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Particles */
    .particles {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0; left: 0;
      pointer-events: none;
    }
    .particles span {
      position: absolute;
      width: 6px;
      height: 6px;
      background: var(--ml-yellow);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--ml-yellow-glow);
      animation: floatParticle calc(4s * var(--i)) linear infinite;
      left: calc(15% * var(--i));
      opacity: 0;
    }
    @keyframes floatParticle {
      0% { transform: translateY(100vh) translateX(0) scale(0); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(-100vh) translateX(calc(var(--i) * 20px)) scale(1.5); opacity: 0; }
    }

    .hero-container {
      max-width: 1400px;
      margin: 0 auto;
      position: relative;
      animation: fadeInUp 0.8s ease-out 0.4s backwards;
      will-change: transform;
    }
    .hero-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .hero-label {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255, 230, 0, 0.2);
      backdrop-filter: blur(20px) saturate(180%);
      padding: 0.6rem 1.2rem;
      border-radius: 30px;
      font-size: 0.85rem;
      font-weight: 700;
      border: 2px solid var(--ml-yellow);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      box-shadow: 0 4px 16px var(--ml-yellow-glow);
    }
    .hero-time {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(20px) saturate(180%);
      padding: 0.6rem 1.2rem;
      border-radius: 30px;
      font-size: 0.9rem;
      font-weight: 600;
      border: 1px solid rgba(255, 255, 255, 0.25);
    }
    .hero-title {
      font-size: clamp(2.25rem, 5vw, 4rem);
      font-weight: 800;
      margin-bottom: 1rem;
      letter-spacing: -1.5px;
      line-height: 1.1;
      text-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    .hero-title span {
      background: linear-gradient(90deg, var(--ml-yellow), var(--ml-yellow-light));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: none;
    }
    .hero-description {
      font-size: clamp(1.05rem, 2vw, 1.3rem);
      opacity: 0.95;
      max-width: 750px;
      line-height: 1.7;
      font-weight: 400;
    }

    /* ===== MAIN CONTAINER ===== */
    .main-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 3rem 2rem;
      animation: fadeIn 0.8s ease-out 0.6s backwards;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes fadeInUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    @keyframes slide-in-up { from { transform: translateY(40px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    /* ===== STATS DASHBOARD ===== */
    .stats-dashboard {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
    }
    .stat-card {
      background: var(--ml-white);
      border: 2px solid var(--ml-border-light);
      border-radius: 16px;
      padding: 2rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      animation: slide-in-up 0.6s ease-out backwards;
    }
    .stat-card:nth-child(1) { animation-delay: 0.2s; }
    .stat-card:nth-child(2) { animation-delay: 0.3s; }
    .stat-card:nth-child(3) { animation-delay: 0.4s; }
    .stat-card:nth-child(4) { animation-delay: 0.5s; }
    .stat-card:nth-child(5) { animation-delay: 0.6s; }
    .stat-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--ml-yellow), var(--ml-blue), var(--ml-aqua));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.4s ease;
    }
    .stat-card:hover::before { transform: scaleX(1); }
    .stat-card:hover {
      border-color: var(--ml-yellow);
      box-shadow: 0 12px 32px var(--ml-yellow-glow);
      transform: translateY(-8px);
    }
    .stat-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1.25rem;
    }
    .stat-icon-box {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, var(--ml-blue-ultralight), rgba(52, 131, 250, 0.15));
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.75rem;
      transition: all 0.3s ease;
      border: 2px solid var(--ml-blue);
      color: var(--ml-blue-dark);
    }
    .stat-card:hover .stat-icon-box {
      background: linear-gradient(135deg, var(--ml-yellow), var(--ml-yellow-dark));
      transform: rotate(8deg) scale(1.1);
      border-color: var(--ml-yellow-dark);
      box-shadow: 0 8px 24px var(--ml-yellow-glow);
      color: var(--ml-text-primary);
    }
    .stat-trend {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.8rem;
      color: var(--ml-green);
      font-weight: 700;
      background: var(--ml-success-bg);
      padding: 0.35rem 0.65rem;
      border-radius: 16px;
      border: 1px solid var(--ml-green);
      box-shadow: 0 2px 8px rgba(0, 166, 80, 0.2);
    }
    .stat-value {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--ml-text-primary);
      line-height: 1;
      margin-bottom: 0.5rem;
      letter-spacing: -1px;
    }
    .stat-label {
      font-size: 0.95rem;
      color: var(--ml-text-tertiary);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    /* ===== üìù NOTAS R√ÅPIDAS PREMIUM ===== */
    .notes-card {
      background: linear-gradient(135deg, var(--ml-white), var(--ml-background));
      border: 2px solid var(--ml-border-light);
      border-radius: 18px;
      padding: 2rem;
      margin-bottom: 3rem;
      animation: slide-in-up 0.6s ease-out 0.55s backwards;
      box-shadow: var(--shadow-md);
    }
    .notes-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 3px solid transparent;
      border-image: linear-gradient(90deg, var(--ml-yellow), var(--ml-blue)) 1;
    }
    .notes-title {
      font-size: 1.3rem;
      font-weight: 800;
      color: var(--ml-text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .add-note-btn {
      padding: 0.65rem 1.25rem;
      background: linear-gradient(135deg, var(--ml-yellow), var(--ml-yellow-dark));
      border: 2px solid var(--ml-yellow-dark);
      border-radius: 10px;
      font-size: 0.9rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      color: var(--ml-text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: var(--shadow-yellow);
    }
    .add-note-btn:hover { transform: translateY(-2px) scale(1.05); box-shadow: 0 8px 24px var(--ml-yellow-glow); }
    .notes-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1rem;
    }
    .note-item {
      background: var(--ml-white);
      border: 2px solid var(--ml-border-light);
      border-radius: 12px;
      padding: 1.25rem;
      position: relative;
      transition: all 0.3s ease;
      cursor: pointer;
      animation: slide-in-up 0.4s ease-out backwards;
    }
    .note-item:hover { transform: translateY(-5px) rotate(1deg); box-shadow: var(--shadow-lg); border-color: var(--ml-yellow); }
    .note-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 0.75rem;
    }
    .note-color { width: 24px; height: 24px; border-radius: 6px; border: 2px solid var(--ml-border-light); }
    .note-delete {
      background: transparent;
      border: none;
      color: var(--ml-text-light);
      cursor: pointer;
      font-size: 1.2rem;
      padding: 0.25rem;
      transition: all 0.2s ease;
    }
    .note-delete:hover { color: var(--ml-red); transform: scale(1.2); }
    .note-content {
      color: var(--ml-text-primary);
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 0.75rem;
      word-wrap: break-word;
    }
    .note-timestamp { font-size: 0.75rem; color: var(--ml-text-light); font-weight: 600; }
    .notes-empty { text-align: center; padding: 3rem; color: var(--ml-text-tertiary); font-size: 1rem; }

    /* ===== üîî SISTEMA DE LEMBRETES PREMIUM ===== */
    .reminders-card {
      background: linear-gradient(135deg, var(--ml-blue-ultralight), rgba(255, 230, 0, 0.05));
      border: 2px solid var(--ml-blue);
      border-radius: 18px;
      padding: 2rem;
      margin-bottom: 3rem;
      animation: slide-in-up 0.6s ease-out 0.6s backwards;
      box-shadow: var(--shadow-blue);
    }
    .reminders-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 3px solid transparent;
      border-image: linear-gradient(90deg, var(--ml-blue), var(--ml-yellow)) 1;
    }
    .reminders-title {
      font-size: 1.3rem;
      font-weight: 800;
      color: var(--ml-text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .add-reminder-btn {
      padding: 0.65rem 1.25rem;
      background: linear-gradient(135deg, var(--ml-blue), var(--ml-blue-dark));
      border: 2px solid var(--ml-blue-dark);
      border-radius: 10px;
      font-size: 0.9rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      color: white;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: var(--shadow-blue);
    }
    .add-reminder-btn:hover { transform: translateY(-2px) scale(1.05); box-shadow: 0 8px 24px var(--ml-blue-glow); }
    .reminders-list { display: flex; flex-direction: column; gap: 1rem; }
    .reminder-item {
      background: var(--ml-white);
      border: 2px solid var(--ml-border-light);
      border-radius: 12px;
      padding: 1.25rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      transition: all 0.3s ease;
    }
    .reminder-item:hover { border-color: var(--ml-yellow); box-shadow: var(--shadow-md); transform: translateX(5px); }
    .reminder-toggle {
      width: 48px;
      height: 28px;
      background: var(--ml-border-medium);
      border-radius: 20px;
      position: relative;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .reminder-toggle.active { background: var(--ml-green); }
    .reminder-toggle::after {
      content: '';
      position: absolute;
      width: 22px;
      height: 22px;
      background: white;
      border-radius: 50%;
      top: 3px;
      left: 3px;
      transition: all 0.3s ease;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    .reminder-toggle.active::after { left: 23px; }
    .reminder-info { flex: 1; }
    .reminder-title-text { font-weight: 700; font-size: 1rem; color: var(--ml-text-primary); margin-bottom: 0.25rem; }
    .reminder-schedule { font-size: 0.85rem; color: var(--ml-text-tertiary); font-weight: 600; }
    .reminder-delete {
      background: transparent;
      border: none;
      color: var(--ml-text-light);
      cursor: pointer;
      font-size: 1.3rem;
      padding: 0.5rem;
      transition: all 0.2s ease;
    }
    .reminder-delete:hover { color: var(--ml-red); transform: scale(1.2); }
    .reminders-empty { text-align: center; padding: 3rem; color: var(--ml-text-tertiary); font-size: 1rem; }

    /* ===== üîç AUTOCOMPLETE NA BUSCA PREMIUM ===== */
    .search-suggestions {
      position: absolute;
      top: 100%; left: 0; right: 0;
      background: var(--ml-white);
      border: 2px solid var(--ml-blue);
      border-radius: 14px;
      margin-top: 0.75rem;
      box-shadow: var(--shadow-xl);
      z-index: 100;
      max-height: 400px;
      overflow-y: auto;
      animation: slideInDown 0.3s ease-out;
    }
    @keyframes slideInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
    .suggestion-item {
      padding: 1.25rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      cursor: pointer;
      transition: all 0.2s ease;
      border-bottom: 1px solid var(--ml-border-light);
    }
    .suggestion-item:last-child { border-bottom: none; }
    .suggestion-item:hover { background: var(--ml-yellow-light); transform: translateX(8px); }
    .suggestion-icon { font-size: 1.8rem; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)); }
    .suggestion-details { flex: 1; }
    .suggestion-label { font-weight: 700; color: var(--ml-text-primary); font-size: 1rem; margin-bottom: 0.25rem; }
    .suggestion-category { font-size: 0.8rem; color: var(--ml-text-tertiary); font-weight: 600; }
    .suggestion-badge {
      background: var(--ml-yellow);
      color: var(--ml-text-primary);
      padding: 0.35rem 0.75rem;
      border-radius: 8px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
    }

    /* ===== DICA DO DIA ===== */
    .tip-card {
      background: linear-gradient(135deg, var(--ml-blue-ultralight), rgba(255, 230, 0, 0.08));
      border: 2px solid var(--ml-blue);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 3rem;
      display: flex;
      align-items: center;
      gap: 1.5rem;
      animation: slide-in-up 0.6s ease-out 0.5s backwards;
      transition: all 0.3s ease;
      box-shadow: var(--shadow-sm);
    }
    .tip-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-blue); border-color: var(--ml-yellow); }
    .tip-icon { font-size: 2.5rem; flex-shrink: 0; animation: float 3s ease-in-out infinite; }
    .tip-content .tip-title { font-weight: 800; font-size: 1.1rem; color: var(--ml-blue); margin-bottom: 0.25rem; }
    :root[data-theme="dark"] .tip-content .tip-title { color: var(--ml-aqua-light); }
    .tip-content .tip-text { font-size: 0.95rem; color: var(--ml-text-secondary); line-height: 1.7; }

    /* ===== 7. HIST√ìRICO DE LINKS ===== */
    .history-card {
      background: var(--ml-white);
      border: 2px solid var(--ml-border-light);
      border-radius: 16px;
      padding: 2rem;
      margin-bottom: 3rem;
      animation: slide-in-up 0.6s ease-out 0.55s backwards;
    }
    .history-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem; }
    .history-title { font-size: 1.2rem; font-weight: 700; color: var(--ml-text-primary); display: flex; align-items: center; gap: 0.5rem; }
    .clear-history-btn {
      padding: 0.5rem 1rem;
      background: var(--ml-background-dark);
      border: 2px solid var(--ml-border-light);
      border-radius: 8px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      color: var(--ml-text-secondary);
    }
    .clear-history-btn:hover { background: var(--ml-red); color: white; border-color: var(--ml-red); transform: scale(1.05); }
    .history-list { display: flex; flex-direction: column; gap: 0.75rem; }
    .history-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem;
      background: var(--ml-background);
      border: 2px solid var(--ml-border-light);
      border-radius: 10px;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .history-item:hover { border-color: var(--ml-blue); transform: translateX(5px); box-shadow: var(--shadow-sm); }
    .history-item-info { display: flex; align-items: center; gap: 1rem; flex: 1; }
    .history-item-icon { font-size: 1.3rem; }
    .history-item-details { flex: 1; }
    .history-item-label { font-weight: 600; color: var(--ml-text-primary); font-size: 0.95rem; }
    .history-item-time { font-size: 0.75rem; color: var(--ml-text-tertiary); }
    .history-empty { text-align: center; padding: 2rem; color: var(--ml-text-tertiary); font-style: italic; }

    /* ===== SEARCH SECTION ===== */
    .search-section {
      background: var(--ml-white);
      border: 2px solid var(--ml-yellow);
      border-radius: 18px;
      padding: 2.25rem;
      margin-bottom: 3rem;
      box-shadow: 0 8px 24px var(--ml-yellow-glow);
      animation: slide-in-up 0.6s ease-out 0.6s backwards;
    }
    .search-header { margin-bottom: 1.75rem; }
    .search-title { font-size: 1.25rem; font-weight: 700; color: var(--ml-text-primary); margin-bottom: 0.5rem; letter-spacing: -0.3px; }
    .search-subtitle { font-size: 0.95rem; color: var(--ml-text-tertiary); font-weight: 400; }
    .search-wrapper { position: relative; }
    .search-input-container { position: relative; display: flex; align-items: center; }
    .search-icon { position: absolute; left: 1.5rem; font-size: 1.2rem; color: var(--ml-text-tertiary); pointer-events: none; transition: all 0.3s ease; }
    .search-bar {
      width: 100%;
      padding: 1.15rem 3.75rem 1.15rem 3.5rem;
      border: 2px solid var(--ml-border-medium);
      border-radius: 12px;
      font-size: 1rem;
      background: var(--ml-background);
      color: var(--ml-text-primary);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-family: inherit;
      font-weight: 500;
    }
    .search-bar:focus {
      outline: none;
      border-color: var(--ml-blue);
      box-shadow: 0 0 0 4px var(--ml-blue-glow), 0 4px 16px var(--ml-blue-glow);
      transform: translateY(-2px);
      background: var(--ml-white);
    }
    .search-bar:focus ~ .search-icon { color: var(--ml-blue); transform: scale(1.15); }
    .search-bar::placeholder { color: var(--ml-text-light); font-weight: 400; }
    .clear-search-btn {
      position: absolute;
      right: 1.25rem;
      background: var(--ml-background-dark);
      border: none;
      width: 34px;
      height: 34px;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      align-items: center;
      justify-content: center;
      color: var(--ml-text-secondary);
      font-size: 1.3rem;
      font-weight: 700;
      transition: all 0.3s ease;
    }
    .clear-search-btn.active { display: flex; }
    .clear-search-btn:hover { background: var(--ml-yellow); color: var(--ml-text-primary); transform: rotate(90deg) scale(1.1); box-shadow: var(--shadow-yellow); }

    .keyboard-hint {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.75rem;
      color: var(--ml-text-light);
      margin-top: 0.5rem;
    }
    .keyboard-hint kbd {
      background: var(--ml-background-dark);
      border: 1px solid var(--ml-border-medium);
      border-radius: 4px;
      padding: 0.15rem 0.4rem;
      font-family: monospace;
      font-size: 0.7rem;
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }

    .search-status {
      margin-top: 1rem;
      padding: 1rem 1.25rem;
      background: var(--ml-blue-ultralight);
      border-left: 4px solid var(--ml-blue);
      border-radius: 8px;
      font-size: 0.95rem;
      color: var(--ml-text-secondary);
      font-weight: 600;
      animation: slideInLeft 0.4s ease-out;
    }
    @keyframes slideInLeft { from { transform: translateX(-20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

    /* ===== CONTENT SECTIONS ===== */
    .content-section { margin-bottom: 3.5rem; }
    .section-header {
      display: flex;
      align-items: center;
      gap: 1.25rem;
      margin-bottom: 1.75rem;
      padding-bottom: 1.25rem;
      border-bottom: 3px solid transparent;
      border-image: linear-gradient(90deg, var(--ml-yellow) 10%, var(--ml-blue) 90%) 1;
      animation: slideInLeft 0.6s ease-out backwards;
    }
    .section-icon {
      width: 54px;
      height: 54px;
      background: linear-gradient(135deg, var(--ml-blue), var(--ml-blue-dark));
      color: var(--ml-white);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.6rem;
      box-shadow: var(--shadow-blue);
      border: 2px solid var(--ml-yellow);
    }
    .section-title-group { flex: 1; }
    .section-title { font-size: 1.65rem; font-weight: 700; color: var(--ml-text-primary); margin-bottom: 0.35rem; letter-spacing: -0.7px; }
    .section-subtitle { font-size: 0.9rem; color: var(--ml-text-tertiary); font-weight: 500; }

    /* ===== LINKS GRID & 3D CARD EFFECT ===== */
    .links-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
      gap: 1.25rem;
      perspective: 1000px;
    }
    .link-card {
      background: var(--ml-white);
      border: 2px solid var(--ml-border-light);
      border-radius: 14px;
      padding: 1.75rem;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
      animation: slide-in-up 0.6s ease-out backwards;
      transform-style: preserve-3d;
    }
    .link-card:hover { border-color: var(--ml-blue); box-shadow: 0 16px 40px var(--ml-blue-glow); }

    .link-content {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      flex: 1;
      transform: translateZ(20px);
    }
    .link-icon {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--ml-blue-ultralight), rgba(52, 131, 250, 0.2));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
      flex-shrink: 0;
      transition: all 0.3s ease;
      border: 2px solid var(--ml-blue);
      color: var(--ml-blue-dark);
    }
    .link-card:hover .link-icon {
      background: linear-gradient(135deg, var(--ml-yellow), var(--ml-yellow-dark));
      transform: scale(1.15) rotate(8deg) translateZ(30px);
      border-color: var(--ml-yellow-dark);
      box-shadow: 0 6px 20px var(--ml-yellow-glow);
      color: var(--ml-text-primary);
    }
    .link-details { flex: 1; min-width: 0; }
    .link-title { font-weight: 700; color: var(--ml-text-primary); margin-bottom: 0.35rem; font-size: 1.05rem; display: block; }
    .link-url {
      color: var(--ml-text-tertiary);
      font-size: 0.8rem;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      display: block;
      font-weight: 500;
    }
    .link-actions { display: flex; gap: 0.75rem; align-items: center; transform: translateZ(10px); }

    /* ===== BOT√ïES ===== */
    .btn {
      padding: 0.7rem 1.5rem;
      border-radius: 10px;
      font-size: 0.9rem;
      font-weight: 700;
      cursor: pointer;
      border: none;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      text-decoration: none;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      position: relative;
      overflow: hidden;
    }
    @keyframes vibrate {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-2px); }
      50% { transform: translateX(2px); }
      75% { transform: translateX(-2px); }
    }
    .btn:active { transform: scale(0.96); transition-duration: 0.1s; }
    .btn-primary {
      background: linear-gradient(135deg, var(--ml-blue), var(--ml-blue-dark), var(--ml-blue));
      background-size: 250% 100%;
      color: var(--ml-white);
      flex: 1;
      box-shadow: var(--shadow-blue);
      border: 2px solid transparent;
      animation: gradientFlow 4s ease infinite;
    }
    @keyframes gradientFlow { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 32px var(--ml-blue-glow);
      border-color: var(--ml-yellow);
      animation-play-state: paused;
    }
    .btn-secondary {
      background: var(--ml-background-dark);
      color: var(--ml-text-secondary);
      width: 44px;
      height: 44px;
      padding: 0;
      border: 2px solid var(--ml-border-light);
    }
    .btn-secondary:active { animation: vibrate 0.3s ease; }
    .btn-secondary:hover {
      background: var(--ml-aqua);
      color: var(--ml-white);
      border-color: var(--ml-aqua-dark);
      transform: scale(1.1);
      box-shadow: var(--shadow-aqua);
    }

    .btn-qrcode {
      background: linear-gradient(135deg, var(--ml-yellow), var(--ml-yellow-dark));
      color: var(--ml-text-primary);
      width: 44px;
      height: 44px;
      padding: 0;
      position: relative;
      border: 2px solid var(--ml-yellow-dark);
      box-shadow: var(--shadow-yellow);
    }
    .btn-qrcode:hover {
      background: linear-gradient(135deg, var(--ml-yellow-dark), #d4b800);
      transform: scale(1.15);
      box-shadow: 0 8px 24px var(--ml-yellow-glow);
    }
    .btn-qrcode:active { transform: scale(1.05); animation: vibrate 0.3s ease; }

    /* QR Code Modal */
    .qrcode-modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.75);
      backdrop-filter: blur(12px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      animation: fadeInModal 0.3s ease-out;
    }
    .qrcode-modal.active { display: flex; }
    .qrcode-modal-content {
      background: var(--ml-white);
      border-radius: 20px;
      padding: 2rem;
      max-width: 400px;
      width: 90%;
      box-shadow: var(--shadow-xl);
      text-align: center;
      animation: scaleInModal 0.3s ease-out;
      position: relative;
      border: 3px solid var(--ml-yellow);
    }
    .qrcode-modal-header { margin-bottom: 1.5rem; }
    .qrcode-modal-title { font-size: 1.5rem; font-weight: 700; color: var(--ml-text-primary); margin-bottom: 0.5rem; }
    .qrcode-modal-subtitle { font-size: 0.9rem; color: var(--ml-text-tertiary); word-break: break-all; }
    .qrcode-container {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1.5rem;
      background: #FFFFFF;
      border-radius: 16px;
      margin-bottom: 1.5rem;
      border: 2px solid var(--ml-yellow);
    }
    .qrcode-close-btn {
      background: linear-gradient(135deg, var(--ml-blue), var(--ml-blue-dark));
      color: var(--ml-white);
      border: 2px solid var(--ml-yellow);
      padding: 0.85rem 2rem;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      box-shadow: var(--shadow-blue);
    }
    .qrcode-close-btn:hover { transform: translateY(-2px); box-shadow: 0 12px 32px var(--ml-blue-glow); }

    /* ===== TEXT CARDS ===== */
    .text-card {
      background: var(--ml-white);
      border: 2px solid var(--ml-border-light);
      border-radius: 14px;
      padding: 2rem;
      margin-bottom: 1.75rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      animation: slide-in-up 0.6s ease-out backwards;
      position: relative;
      overflow: hidden;
    }
    .text-card:hover { border-color: var(--ml-blue); box-shadow: 0 12px 32px var(--ml-blue-glow); transform: translateY(-4px); }
    .text-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1.5rem;
      gap: 1.5rem;
    }
    .text-card-title { font-weight: 700; color: var(--ml-text-primary); font-size: 1.1rem; line-height: 1.5; letter-spacing: -0.3px; }
    .text-badge {
      background: var(--ml-success-bg);
      color: var(--ml-green-dark);
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      white-space: nowrap;
      border: 2px solid var(--ml-green);
    }
    .text-content {
      padding: 1.5rem;
      background: var(--ml-blue-ultralight);
      border: 2px solid rgba(45, 50, 119, 0.2);
      border-radius: 12px;
      color: var(--ml-text-primary);
      font-size: 0.95rem;
      line-height: 1.8;
      white-space: pre-wrap;
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }
    .text-content:hover { background: var(--ml-white); border-color: var(--ml-yellow); box-shadow: 0 6px 20px var(--ml-yellow-glow); transform: scale(1.01); }
    .copy-feedback-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 3rem;
      color: var(--ml-green);
      opacity: 0;
      transition: opacity 0.4s ease;
      pointer-events: none;
    }
    .text-content.copied-success {
      border-color: var(--ml-green) !important;
      box-shadow: 0 0 15px rgba(0, 166, 80, 0.5), inset 0 0 10px rgba(0, 166, 80, 0.3) !important;
    }
    .text-content.copied-success .copy-feedback-icon { opacity: 1; }

    /* ===== TOOLTIP ===== */
    .tooltip {
      background: #333;
      color: #fff;
      border-radius: 8px;
      padding: 0.75rem 1.25rem;
      font-size: 0.9rem;
      font-weight: 600;
      z-index: 10000;
      opacity: 0;
      pointer-events: none;
      box-shadow: var(--shadow-xl);
      animation: tooltipShow 2s ease-in-out forwards;
      position: fixed;
    }
    :root[data-theme="dark"] .tooltip { background: var(--ml-background-dark); border: 1px solid var(--ml-border-medium); }
    @keyframes tooltipShow {
      0% { opacity: 0; transform: translate(-50%, -90%) scale(0.85); }
      10%, 88% { opacity: 1; transform: translate(-50%, -120%) scale(1); }
      100% { opacity: 0; transform: translate(-50%, -100%) scale(0.9); }
    }

    /* ===== SCROLL TO TOP ===== */
    .scroll-top-btn {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, var(--ml-blue), var(--ml-blue-dark));
      color: var(--ml-white);
      border: 2px solid var(--ml-yellow);
      border-radius: 16px;
      font-size: 1.6rem;
      cursor: pointer;
      box-shadow: var(--shadow-blue);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      opacity: 0;
      visibility: hidden;
      z-index: 999;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .scroll-top-btn.visible { opacity: 1; visibility: visible; }
    .scroll-top-btn:hover {
      background: linear-gradient(135deg, var(--ml-yellow), var(--ml-yellow-dark));
      color: var(--ml-text-primary);
      transform: translateY(-6px);
      box-shadow: 0 16px 40px var(--ml-yellow-glow);
      border-color: var(--ml-yellow-dark);
    }

    /* ===== FOOTER ===== */
    .corporate-footer {
      background: var(--ml-background-dark);
      color: var(--ml-text-secondary);
      padding: 2rem 2rem;
      margin-top: 4rem;
      animation: fadeIn 1s ease-out 1.1s backwards;
      border-top: 2px solid var(--ml-border-light);
      position: relative;
    }
    .footer-container {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1.5rem;
      position: relative;
    }
    .footer-copyright { font-size: 0.9rem; color: var(--ml-text-tertiary); font-weight: 500; }
    .footer-badges { display: flex; gap: 0.85rem; flex-wrap: wrap; }
    .footer-badge {
      background: var(--ml-background);
      padding: 0.5rem 0.9rem;
      border-radius: 8px;
      font-size: 0.8rem;
      font-weight: 700;
      border: 1px solid var(--ml-border-light);
      transition: all 0.3s ease;
      color: var(--ml-text-secondary);
    }
    .footer-badge:hover { background: var(--ml-yellow); color: var(--ml-text-primary); transform: translateY(-2px); box-shadow: var(--shadow-yellow); border-color: var(--ml-yellow); }

    /* ===== ‚òÅÔ∏èüå°Ô∏è FORECAST MODAL ===== */
    .forecast-modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(20px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      animation: fadeInModal 0.3s ease-out;
    }
    .forecast-modal.active { display: flex; }
    .forecast-modal-content {
      background: var(--ml-white);
      border-radius: 28px;
      padding: 2.5rem;
      width: 90%;
      max-width: 1000px;
      box-shadow: 0 32px 80px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(45, 50, 119, 0.1);
      animation: scaleInModal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      position: relative;
      border: 4px solid var(--ml-blue);
      max-height: 92vh;
      overflow-y: auto;
    }
    .forecast-header {
      margin-bottom: 2.5rem;
      text-align: center;
      position: relative;
      padding-bottom: 1.5rem;
      border-bottom: 3px solid transparent;
      border-image: linear-gradient(90deg, var(--ml-blue), var(--ml-yellow), var(--ml-aqua)) 1;
    }
    .forecast-title {
      font-size: 2.25rem;
      font-weight: 900;
      color: var(--ml-text-primary);
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      letter-spacing: -1px;
    }
    .forecast-subtitle {
      font-size: 1.2rem;
      color: var(--ml-text-secondary);
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    .forecast-current {
      background: linear-gradient(135deg, rgba(45, 50, 119, 0.12), rgba(52, 131, 250, 0.08), rgba(255, 230, 0, 0.05));
      border: 4px solid var(--ml-blue);
      border-radius: 24px;
      padding: 3rem;
      margin-bottom: 2.5rem;
      text-align: center;
      position: relative;
      overflow: hidden;
      box-shadow: 0 12px 40px rgba(45, 50, 119, 0.25), inset 0 2px 0 rgba(255, 255, 255, 0.3);
    }
    .forecast-current::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 230, 0, 0.15) 0%, transparent 70%);
      animation: rotateBg 25s linear infinite;
    }
    @keyframes rotateBg { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    .forecast-current-icon {
      font-size: 6rem;
      margin-bottom: 1.5rem;
      filter: drop-shadow(0 10px 20px rgba(0,0,0,0.2));
      animation: float 3.5s ease-in-out infinite;
      position: relative;
    }
    .forecast-current-temp {
      font-size: 4.5rem;
      font-weight: 900;
      color: var(--ml-text-primary);
      margin-bottom: 0.75rem;
      letter-spacing: -3px;
      text-shadow: 0 4px 12px rgba(0,0,0,0.15);
      position: relative;
      
    }
    .forecast-current-desc {
      font-size: 1.5rem;
      color: var(--ml-blue);
      text-transform: capitalize;
      font-weight: 800;
      margin-bottom: 2rem;
      position: relative;
      z-index: 1;
      padding: 0.5rem 1.5rem;
      background: rgba(45, 50, 119, 0.1);
      border-radius: 16px;
      display: inline-block;
    }
    .forecast-current-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
      position: relative;
      z-index: 1;
    }
    .forecast-detail-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.75rem;
      padding: 1.5rem;
      background: var(--ml-white);
      border-radius: 16px;
      border: 2px solid var(--ml-border-light);
      transition: all 0.3s ease;
      box-shadow: var(--shadow-xs);
    }
    .forecast-detail-item:hover {
      transform: translateY(-6px) scale(1.05);
      border-color: var(--ml-yellow);
      box-shadow: 0 10px 28px var(--ml-yellow-glow);
    }
    .forecast-detail-item span:first-child { font-size: 2.2rem; filter: drop-shadow(0 2px 6px rgba(0,0,0,0.15)); }
    .forecast-detail-item span:last-child { font-size: 0.95rem; color: var(--ml-text-secondary); font-weight: 700; text-align: center; }

    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    .forecast-day {
      background: linear-gradient(135deg, var(--ml-white), var(--ml-background));
      border-radius: 18px;
      padding: 1.75rem 1.25rem;
      text-align: center;
      border: 2px solid var(--ml-border-light);
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-xs);
    }
    .forecast-day::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--ml-blue), var(--ml-yellow), var(--ml-aqua));
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }
    .forecast-day:hover {
      transform: translateY(-10px) scale(1.05);
      border-color: var(--ml-blue);
      box-shadow: 0 16px 40px rgba(45, 50, 119, 0.3);
      background: linear-gradient(135deg, var(--ml-blue-ultralight), rgba(255, 230, 0, 0.1));
    }
    .forecast-day:hover::before { transform: scaleX(1); }
    .forecast-day-name {
      font-weight: 900;
      font-size: 1rem;
      margin-bottom: 1.25rem;
      text-transform: uppercase;
      color: var(--ml-text-primary);
      letter-spacing: 0.8px;
    }
    .forecast-day-icon {
      font-size: 3.5rem;
      margin-bottom: 1.25rem;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,0.15));
      transition: transform 0.3s ease;
    }
    .forecast-day:hover .forecast-day-icon { transform: scale(1.3) rotate(8deg); }
    .forecast-day-temps {
      font-size: 0.95rem;
      color: var(--ml-text-tertiary);
      font-weight: 600;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .forecast-day-temps span { font-weight: 900; color: var(--ml-text-primary); font-size: 1.5rem; letter-spacing: -0.8px; }
    .forecast-day-temps .temp-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--ml-text-light);
      font-weight: 800;
    }
    .forecast-day-precip {
      font-size: 0.8rem;
      color: var(--ml-aqua);
      font-weight: 800;
      margin-top: 0.5rem;
      padding: 0.25rem 0.5rem;
      background: rgba(52, 131, 250, 0.1);
      border-radius: 8px;
      display: inline-block;
    }
    .forecast-extra-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.25rem;
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 2px solid var(--ml-border-light);
    }
    .extra-info-card {
      background: linear-gradient(135deg, var(--ml-background), var(--ml-white));
      padding: 1.5rem;
      border-radius: 14px;
      border: 2px solid var(--ml-border-light);
      text-align: center;
      transition: all 0.3s ease;
    }
    .extra-info-card:hover { transform: translateY(-5px); border-color: var(--ml-yellow); box-shadow: var(--shadow-md); }
    .extra-info-icon { font-size: 2.5rem; margin-bottom: 0.75rem; }
    .extra-info-label {
      font-size: 0.85rem;
      color: var(--ml-text-tertiary);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 0.5rem;
    }
    .extra-info-value { font-size: 1.8rem; font-weight: 900; color: var(--ml-text-primary); letter-spacing: -0.5px; }

    /* ===== UTILITY CLASSES ===== */
    .hidden { display: none !important; }
    .sr-only {
      position: absolute;
      width: 1px; height: 1px;
      padding: 0; margin: -1px;
      overflow: hidden;
      clip: rect(0,0,0,0);
      white-space: nowrap;
      border: 0;
    }
    mark {
      background-color: var(--ml-yellow);
      color: var(--ml-text-primary);
      padding: 2px 4px;
      border-radius: 4px;
      font-weight: 700;
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 1024px) {
      .header-container { padding: 1rem 1.5rem; }
      .main-container { padding: 2.5rem 1.5rem; }
      .links-grid { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); }
      .forecast-current-details { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); }
    }

    @media (max-width: 768px) {
      .profile-config-content { padding: 2rem 1.5rem; }
      .profile-shift-options, .profile-days-options { grid-template-columns: 1fr; }
      .profile-form-actions { flex-direction: column; }

      .weather-widget, .header-badge, .connection-status, .presentation-btn, .theme-selector { display: none; }
      .user-details { display: none; }
      .hamburger-menu { display: flex; }

      .hero-section { padding: 3rem 1.5rem 2rem; }
      .hero-top { flex-direction: column; align-items: flex-start; }

      .stats-dashboard, .links-grid { grid-template-columns: 1fr; }
      .footer-container { flex-direction: column; text-align: center; }

      .scroll-top-btn { bottom: 1.5rem; right: 1.5rem; width: 50px; height: 50px; }

      .forecast-grid { grid-template-columns: repeat(auto-fit, minmax(95px, 1fr)); gap: 1rem; }
      .forecast-day { padding: 1.5rem 1rem; }
      .forecast-day-icon { font-size: 2.75rem; }
      .tip-card { flex-direction: column; text-align: center; }

      .forecast-current-details { grid-template-columns: repeat(2, 1fr); gap: 1rem; }
      .forecast-detail-item { min-width: auto; padding: 1rem; }
      .forecast-current { padding: 2.5rem 1.5rem; }
      .forecast-current-icon { font-size: 5rem; }
      .forecast-current-temp { font-size: 3.5rem; }

      .notes-grid { grid-template-columns: 1fr; }
      .reminders-list { gap: 0.75rem; }
    }

    @media (max-width: 480px) {
      .brand-title { font-size: 1.15rem; }
      .hero-title { font-size: 2rem; }

      .search-section, .tip-card, .link-card, .text-card, .history-card, .notes-card, .reminders-card { padding: 1.5rem; }

      .forecast-modal-content { padding: 1.5rem; border-radius: 20px; border-width: 3px; }
      .forecast-current { padding: 2rem 1.25rem; }
      .forecast-current-icon { font-size: 4.5rem; }
      .forecast-current-temp { font-size: 3rem; }
      .forecast-current-desc { font-size: 1.2rem; }
      .forecast-grid { grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 0.75rem; }
      .forecast-day { padding: 1.25rem 0.75rem; }
      .forecast-day-icon { font-size: 2.25rem; margin-bottom: 0.75rem; }
      .forecast-day-name { font-size: 0.85rem; margin-bottom: 1rem; }
      .forecast-day-temps span { font-size: 1.2rem; }
      .forecast-current-details { grid-template-columns: 1fr 1fr; gap: 0.75rem; }
      .forecast-detail-item { padding: 1rem 0.75rem; }
      .forecast-detail-item span:first-child { font-size: 1.8rem; }
      .forecast-detail-item span:last-child { font-size: 0.8rem; }
    }

    /* ===== CUSTOM SCROLLBAR ===== */
    ::-webkit-scrollbar { width: 12px; background: var(--ml-background); }
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, var(--ml-blue), var(--ml-blue-dark));
      border-radius: 6px;
      border: 2px solid var(--ml-background);
    }
    ::-webkit-scrollbar-thumb:hover { background: linear-gradient(180deg, var(--ml-yellow), var(--ml-yellow-dark)); }

    /* ===== NOSCRIPT ===== */
    noscript {
      display: block;
      padding: 2rem;
      text-align: center;
      background: var(--ml-yellow-light);
      color: var(--ml-text-primary);
      border: 3px solid var(--ml-yellow);
      border-radius: 12px;
      margin: 2rem;
      font-weight: 700;
      font-size: 1.05rem;
      box-shadow: var(--shadow-yellow);
    }
  </style>
</head>

<body>
  <!-- Loading Screen -->
  <div class="loading-screen">
    <div class="loading-container">
      <div class="loading-logo">
        <img src="https://i.imgur.com/U0qdo1j.png" alt="Mercado Livre Logo" loading="eager">
      </div>
      <div class="loading-text">IS TOOLS PORTAL</div>
      <div class="loading-subtext">Mercado Livre - Carregando plataforma...</div>
      <div class="loading-progress">
        <div class="loading-bar"></div>
      </div>
    </div>
  </div>

  <!-- Profile Configuration Modal -->
  <div class="profile-config-modal" id="profileConfigModal">
    <div class="profile-config-content">
      <div class="profile-config-header">
        <h3 class="profile-config-title">
          <span>üë§</span>
          Configura√ß√£o de Perfil
        </h3>
        <p class="profile-config-subtitle">Personalize suas informa√ß√µes de trabalho</p>
      </div>

      <form id="profileConfigForm">
        <!-- Nome -->
        <div class="profile-form-group">
          <label class="profile-form-label">
            <span>üë§</span>
            <span>Nome Completo</span>
          </label>
          <input type="text" id="profileName" class="profile-form-input" placeholder="Digite seu nome completo" required>
        </div>

        <!-- Turno -->
        <div class="profile-form-group">
          <label class="profile-form-label">
            <span>üïê</span>
            <span>Selecione seu Turno</span>
          </label>
          <div class="profile-shift-options">
            <div class="profile-shift-option">
              <input type="radio" id="shift-t1" name="shift" value="T1" required>
              <label for="shift-t1" class="profile-shift-label">
                <span class="profile-shift-name">T1 - Manh√£</span>
                <span class="profile-shift-time">05:30 √†s 14:30</span>
              </label>
            </div>
            <div class="profile-shift-option">
              <input type="radio" id="shift-t2" name="shift" value="T2" required>
              <label for="shift-t2" class="profile-shift-label">
                <span class="profile-shift-name">T2 - Tarde</span>
                <span class="profile-shift-time">13:00 √†s 22:00</span>
              </label>
            </div>
            <div class="profile-shift-option">
              <input type="radio" id="shift-t3" name="shift" value="T3" required>
              <label for="shift-t3" class="profile-shift-label">
                <span class="profile-shift-name">T3 - Noite</span>
                <span class="profile-shift-time">22:00 √†s 07:00</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Dias da Semana -->
        <div class="profile-form-group">
          <label class="profile-form-label">
            <span>üìÖ</span>
            <span>Dias que Trabalha (selecione todos)</span>
          </label>
          <div class="profile-days-options">
            <div class="profile-day-option">
              <input type="checkbox" id="day-1" name="workDays" value="1">
              <label for="day-1" class="profile-day-label">
                <span class="profile-day-name">Segunda</span>
                <span class="profile-day-short">SEG</span>
              </label>
            </div>
            <div class="profile-day-option">
              <input type="checkbox" id="day-2" name="workDays" value="2">
              <label for="day-2" class="profile-day-label">
                <span class="profile-day-name">Ter√ßa</span>
                <span class="profile-day-short">TER</span>
              </label>
            </div>
            <div class="profile-day-option">
              <input type="checkbox" id="day-3" name="workDays" value="3">
              <label for="day-3" class="profile-day-label">
                <span class="profile-day-name">Quarta</span>
                <span class="profile-day-short">QUA</span>
              </label>
            </div>
            <div class="profile-day-option">
              <input type="checkbox" id="day-4" name="workDays" value="4">
              <label for="day-4" class="profile-day-label">
                <span class="profile-day-name">Quinta</span>
                <span class="profile-day-short">QUI</span>
              </label>
            </div>
            <div class="profile-day-option">
              <input type="checkbox" id="day-5" name="workDays" value="5">
              <label for="day-5" class="profile-day-label">
                <span class="profile-day-name">Sexta</span>
                <span class="profile-day-short">SEX</span>
              </label>
            </div>
            <div class="profile-day-option">
              <input type="checkbox" id="day-6" name="workDays" value="6">
              <label for="day-6" class="profile-day-label">
                <span class="profile-day-name">S√°bado</span>
                <span class="profile-day-short">S√ÅB</span>
              </label>
            </div>
            <div class="profile-day-option">
              <input type="checkbox" id="day-0" name="workDays" value="0">
              <label for="day-0" class="profile-day-label">
                <span class="profile-day-name">Domingo</span>
                <span class="profile-day-short">DOM</span>
              </label>
            </div>
          </div>
        </div>

        <div class="profile-form-actions">
          <button type="submit" class="profile-btn-save">üíæ Salvar Configura√ß√µes</button>
          <button type="button" class="profile-btn-cancel" id="profileCancelBtn">‚úï Cancelar</button>
        </div>
      </form>
    </div>
  </div>
  <!-- QR Code Modal -->
  <div class="qrcode-modal" id="qrcodeModal">
    <div class="qrcode-modal-content">
      <div class="qrcode-modal-header">
        <h3 class="qrcode-modal-title" id="qrcodeTitle">QR Code do Link</h3>
        <p class="qrcode-modal-subtitle" id="qrcodeUrl">--</p>
      </div>
      <div class="qrcode-container" id="qrcodeContainer"></div>
      <button class="qrcode-close-btn" onclick="closeQRCodeModal()">Fechar</button>
    </div>
  </div>

  <!-- ‚òÅÔ∏èüå°Ô∏è Forecast Modal ULTRA PREMIUM -->
  <div class="forecast-modal" id="forecastModal">
    <div class="forecast-modal-content">
      <div class="forecast-header">
        <h3 class="forecast-title">
          <span>üå§Ô∏è</span>
          Previs√£o do Tempo
        </h3>
        <p class="forecast-subtitle">
          <span>üìç</span>
          <span id="forecastModalLocation">--</span>
        </p>
      </div>

      <!-- Clima Atual ULTRA Premium -->
      <div class="forecast-current" id="forecastCurrent">
        <div class="forecast-current-icon" id="forecastCurrentIcon">‚è≥</div>
        <div class="forecast-current-temp" id="forecastCurrentTemp">--¬∞C</div>
        <div class="forecast-current-desc" id="forecastCurrentDesc">Carregando...</div>
        <div class="forecast-current-details" id="forecastCurrentDetails">
          <!-- Detalhes ser√£o inseridos via JS -->
        </div>
      </div>

      <!-- Previs√£o 7 dias -->
      <div class="forecast-grid" id="forecastGrid">
        <!-- Previs√£o dos pr√≥ximos dias ser√° inserida aqui pelo JavaScript -->
      </div>

      <!-- Informa√ß√µes Extras -->
      <div class="forecast-extra-info" id="forecastExtraInfo">
        <!-- UV Index, Qualidade do Ar, etc via JS -->
      </div>

      <button class="qrcode-close-btn" id="closeForecastModal">Fechar</button>
    </div>
  </div>

  <!-- Mobile Navigation Overlay -->
  <div class="mobile-overlay" id="mobileOverlay"></div>

  <!-- Mobile Navigation Menu MELHORADO -->
  <nav class="mobile-nav" id="mobileNav">
    <div class="mobile-nav-header">
      <h3 class="mobile-nav-title">Menu</h3>
      <button class="mobile-nav-close" id="mobileNavClose">‚úï</button>
    </div>

    <!-- Theme Selector Mobile -->
    <div class="mobile-nav-item" id="mobileThemeSelector">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <span style="font-size: 1.3rem;">üé®</span>
        <div style="flex: 1;">
          <div style="font-weight: 700; font-size: 0.95rem; color: var(--ml-text-primary);">Tema Visual</div>
          <div style="font-size: 0.75rem; color: var(--ml-text-tertiary);" id="mobileCurrentTheme">Claro</div>
        </div>
      </div>
    </div>

    <div class="mobile-nav-item" id="mobileUserInfo">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <div class="user-avatar" id="mobileUserAvatar" style="width: 40px; height: 40px; font-size: 1.1rem;">?</div>
        <div>
          <div style="font-weight: 700; font-size: 0.95rem; color: var(--ml-text-primary);" id="mobileUserName">Usu√°rio</div>
          <div style="font-size: 0.75rem; color: var(--ml-text-tertiary);" id="mobileUserRole">IS-FIELD Team</div>
        </div>
      </div>
    </div>

    <div class="mobile-nav-item" id="mobileWeather">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <span style="font-size: 1.5rem;" id="mobileWeatherIcon">‚è≥</span>
        <div style="flex: 1;">
          <div style="font-weight: 700; font-size: 0.95rem; color: var(--ml-text-primary);" id="mobileWeatherTemp">Carregando...</div>
          <div style="font-size: 0.75rem; color: var(--ml-text-tertiary);" id="mobileWeatherLocation">--</div>
          <div style="font-size: 0.7rem; color: var(--ml-blue); font-weight: 600; margin-top: 2px;" id="mobileWeatherDesc">--</div>
        </div>
      </div>
    </div>

    <div class="mobile-nav-item" id="mobileNotesBtn">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <span style="font-size: 1.3rem;">üìù</span>
        <div>
          <div style="font-weight: 700; font-size: 0.95rem; color: var(--ml-text-primary);">Notas R√°pidas</div>
          <div style="font-size: 0.75rem; color: var(--ml-text-tertiary);" id="mobileNotesCount">0 notas</div>
        </div>
      </div>
    </div>

    <div class="mobile-nav-item" id="mobileRemindersBtn">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <span style="font-size: 1.3rem;">üîî</span>
        <div>
          <div style="font-weight: 700; font-size: 0.95rem; color: var(--ml-text-primary);">Lembretes</div>
          <div style="font-size: 0.75rem; color: var(--ml-text-tertiary);" id="mobileRemindersCount">0 ativos</div>
        </div>
      </div>
    </div>

    <div class="mobile-nav-item" id="mobilePresentationMode">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <span style="font-size: 1.3rem;">üñ•Ô∏è</span>
        <div>
          <div style="font-weight: 700; font-size: 0.95rem; color: var(--ml-text-primary);">Modo Apresenta√ß√£o</div>
          <div style="font-size: 0.75rem; color: var(--ml-text-tertiary);">Tela cheia para demos</div>
        </div>
      </div>
    </div>

    <div class="mobile-nav-item" style="background: var(--ml-success-bg); border-color: var(--ml-green);">
      <div style="display: flex; align-items: center; gap: 0.75rem;">
        <span class="status-dot"></span>
        <div>
          <div style="font-weight: 700; font-size: 0.95rem; color: var(--ml-green-dark);">Status</div>
          <div style="font-size: 0.75rem; color: var(--ml-green-dark);" id="mobileConnectionStatus">Online</div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Corporate Header -->
  <header class="corporate-header">
    <div class="header-container">
      <div class="brand-section">
        <div class="brand-logo">
          <img src="https://i.imgur.com/U0qdo1j.png" alt="Mercado Livre Logo" loading="lazy">
        </div>
        <div class="brand-info">
          <div class="brand-title">IS Tools Portal</div>
          <div class="brand-subtitle">MERCADO LIVRE</div>
        </div>
      </div>

      <div class="header-actions">
        <!-- Hamburger Menu Button (Mobile) -->
        <button class="hamburger-menu" id="hamburgerMenu" aria-label="Abrir menu">‚ò∞</button>

        <div class="connection-status" id="connectionStatus">
          <span class="status-dot"></span>
          <span class="status-text">Online</span>
        </div>

        <!-- Weather Widget ULTRA PREMIUM -->
        <div class="weather-widget" id="weatherWidget" title="Clique para ver a previs√£o completa de 7 dias">
          <div class="weather-icon" id="weatherIcon">‚è≥</div>
          <div class="weather-info">
            <div class="weather-temp" id="weatherTemp">
              <span>Carregando...</span>
              <span class="weather-feels-like" id="weatherFeelsLike"></span>
            </div>
            <div class="weather-location" id="weatherLocation" title="Clique para alterar a cidade">
              <span>üìç</span>
              <span>--</span>
            </div>
            <div class="weather-description" id="weatherDescription">--</div>
            <div class="weather-details-mini" id="weatherDetailsMini"></div>
          </div>
        </div>

        <!-- Theme Selector com Dropdown -->
        <div class="theme-selector">
          <button class="theme-toggle" id="themeToggle" aria-label="Alternar tema" title="Selecionar tema">
            <span class="theme-icon">üåô</span>
          </button>
          <div class="theme-dropdown" id="themeDropdown">
            <div class="theme-option" data-theme="light">
              <div class="theme-preview">
                <div class="theme-preview-split" style="background: #FFFFFF;"></div>
                <div class="theme-preview-split" style="background: #FFE600;"></div>
              </div>
              <span class="theme-option-label">Claro</span>
            </div>
            <div class="theme-option" data-theme="dark">
              <div class="theme-preview">
                <div class="theme-preview-split" style="background: #1A1A1A;"></div>
                <div class="theme-preview-split" style="background: #FFE600;"></div>
              </div>
              <span class="theme-option-label">Escuro</span>
            </div>
            <div class="theme-option" data-theme="highContrast">
              <div class="theme-preview">
                <div class="theme-preview-split" style="background: #000000;"></div>
                <div class="theme-preview-split" style="background: #FFFF00;"></div>
              </div>
              <span class="theme-option-label">Alto Contraste</span>
            </div>
            <div class="theme-option" data-theme="meliClassic">
              <div class="theme-preview">
                <div class="theme-preview-split" style="background: #FFEB3B;"></div>
                <div class="theme-preview-split" style="background: #2962FF;"></div>
              </div>
              <span class="theme-option-label">Meli Classic</span>
            </div>
          </div>
        </div>

        <!-- Presentation Mode Button -->
        <button class="presentation-btn" id="presentationBtn" aria-label="Modo apresenta√ß√£o" title="Ativar modo apresenta√ß√£o (F11)">üñ•Ô∏è</button>

        <div class="header-badge">
          <span>‚ö°</span>
          <span>Acesso R√°pido</span>
        </div>

        <div class="user-info" id="userInfo" title="Clique para editar perfil">
          <div class="user-avatar" id="userAvatar">?</div>
          <div class="user-details">
            <div class="user-name" id="userName">Carregando...</div>
            <div class="user-role">IS-FIELD Team</div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Breadcrumb -->
  <div class="breadcrumb-section">
    <div class="breadcrumb-container">
      <nav class="breadcrumb" aria-label="Navega√ß√£o estrutural">
        <div class="breadcrumb-item">
          <a href="#" class="breadcrumb-link">Home</a>
          <span class="breadcrumb-separator">‚Ä∫</span>
        </div>
        <div class="breadcrumb-item">
          <a href="#" class="breadcrumb-link">Ferramentas</a>
          <span class="breadcrumb-separator">‚Ä∫</span>
        </div>
        <div class="breadcrumb-item">
          <span>Portal IS-FIELD</span>
        </div>
      </nav>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero-section" id="heroSection">
    <div class="particles">
      <span style="--i:1"></span>
      <span style="--i:2"></span>
      <span style="--i:3"></span>
      <span style="--i:4"></span>
      <span style="--i:5"></span>
      <span style="--i:6"></span>
    </div>

    <div class="hero-container" id="heroContainer">
      <div class="hero-top">
        <div class="hero-label">
          <span>‚ö°</span>
          <span>Plataforma IS-FIELD</span>
        </div>
        <div class="hero-time" id="heroTime">
          <span>üïê</span>
          <span id="currentTime">--:--</span>
        </div>
      </div>
      <h1 class="hero-title">Bem-vindo, <span id="heroUserName">Usu√°rio</span>!</h1>
      <p class="hero-description">
        Acesso centralizado e otimizado a links corporativos, sistemas internos e recursos essenciais para maximizar a produtividade da equipe IS-FIELD do Mercado Livre.
      </p>
    </div>
  </section>

  <!-- Main Container -->
  <main class="main-container">

    <!-- Stats Dashboard -->
    <section class="stats-dashboard" aria-label="Dashboard de estat√≠sticas">
      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon-box">üîó</div>
          <div class="stat-trend"><span>‚Üë</span><span>12%</span></div>
        </div>
        <div class="stat-value" id="linkCount">0</div>
        <div class="stat-label">Links Dispon√≠veis</div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon-box">üìù</div>
          <div class="stat-trend"><span>‚Üë</span><span>8%</span></div>
        </div>
        <div class="stat-value" id="textCount">0</div>
        <div class="stat-label">Templates de Texto</div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon-box">‚ö°</div>
          <div class="stat-trend"><span>‚Üë</span><span>24%</span></div>
        </div>
        <div class="stat-value" id="copyCount">0</div>
        <div class="stat-label">Opera√ß√µes Realizadas</div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon-box">üïê</div>
          <div class="stat-trend"><span>‚Üë</span><span>5%</span></div>
        </div>
        <div class="stat-value" id="historyCount">0</div>
        <div class="stat-label">Links Acessados</div>
      </div>

      <div class="stat-card">
        <div class="stat-header">
          <div class="stat-icon-box">üìù</div>
          <div class="stat-trend"><span>‚Üë</span><span>3%</span></div>
        </div>
        <div class="stat-value" id="notesCount">0</div>
        <div class="stat-label">Notas Criadas</div>
      </div>
    </section>

    <!-- Dica do Dia -->
    <section class="tip-card" id="tipOfTheDayCard">
      <div class="tip-icon">üí°</div>
      <div class="tip-content">
        <h3 class="tip-title" id="tipTitle">Dica do Dia</h3>
        <p class="tip-text" id="tipText">Carregando dica...</p>
      </div>
    </section>

    <!-- üîî Sistema de Lembretes PREMIUM -->
    <section class="reminders-card" id="remindersCard">
      <div class="reminders-header">
        <h3 class="reminders-title"><span>üîî</span> Lembretes Ativos</h3>
        <button class="add-reminder-btn" id="addReminderBtn"><span>+</span><span>Novo Lembrete</span></button>
      </div>
      <div class="reminders-list" id="remindersList">
        <div class="reminders-empty">Nenhum lembrete configurado</div>
      </div>
    </section>

    <!-- üìù Notas R√°pidas PREMIUM -->
    <section class="notes-card" id="notesCard">
      <div class="notes-header">
        <h3 class="notes-title"><span>üìù</span> Notas R√°pidas</h3>
        <button class="add-note-btn" id="addNoteBtn"><span>+</span><span>Nova Nota</span></button>
      </div>
      <div class="notes-grid" id="notesGrid">
        <div class="notes-empty">Clique em "+ Nova Nota" para come√ßar</div>
      </div>
    </section>

    <!-- Hist√≥rico de Links Acessados -->
    <section class="history-card" id="historyCard" style="display: none;">
      <div class="history-header">
        <h3 class="history-title"><span>üïê</span> Acessados Recentemente</h3>
        <button class="clear-history-btn" id="clearHistoryBtn" title="Limpar hist√≥rico">üóëÔ∏è Limpar</button>
      </div>
      <div class="history-list" id="historyList">
        <div class="history-empty">Nenhum link acessado ainda</div>
      </div>
    </section>

    <!-- Search Section com Autocomplete -->
    <section class="search-section">
      <div class="search-header">
        <h2 class="search-title">Pesquisa Inteligente</h2>
        <p class="search-subtitle">Encontre links, templates e recursos corporativos instantaneamente</p>
      </div>
      <div class="search-wrapper">
        <div class="search-input-container">
          <span class="search-icon">üîç</span>
          <label for="searchInput" class="sr-only">Campo de pesquisa</label>
          <input type="text" id="searchInput" class="search-bar" placeholder="Digite para pesquisar: links, sistemas, textos, recursos..." autocomplete="off" aria-label="Pesquisar recursos">
          <button id="clearSearchBtn" class="clear-search-btn" aria-label="Limpar pesquisa">‚úï</button>
        </div>

        <div class="search-suggestions hidden" id="searchSuggestions"></div>

        <div class="keyboard-hint">
          <span>Pressione</span><kbd>Ctrl</kbd><span>+</span><kbd>K</kbd><span>para pesquisar rapidamente</span>
        </div>
      </div>
      <div id="searchStatus" class="search-status hidden" role="status" aria-live="polite"></div>
    </section>

    <!-- Content Container -->
    <div id="contentContainer">
      <div class="skeleton-card"></div>
      <div class="skeleton-card" style="margin-top: 1.25rem;"></div>
      <div class="skeleton-card" style="margin-top: 1.25rem;"></div>
    </div>
  </main>

  <!-- Corporate Footer -->
  <footer class="corporate-footer">
    <div class="footer-container">
      <div class="footer-copyright">
        ¬© 2024 Mercado Livre S.A. | IS-FIELD Division | Todos os direitos reservados
      </div>
      <div class="footer-badges">
        <span class="footer-badge">üîí Seguro</span>
        <span class="footer-badge">‚ö° Alta Performance</span>
        <span class="footer-badge">üì± Responsivo</span>
        <span class="footer-badge">‚ôø Acess√≠vel</span>
      </div>
    </div>
  </footer>

  <!-- Scroll to Top -->
  <button class="scroll-top-btn" id="scrollTopBtn" aria-label="Voltar ao topo da p√°gina">‚Üë</button>

  <!-- Tooltip -->
  <div class="tooltip" id="tooltip" role="alert"></div>

  <!-- Audio -->
  <audio id="bip-audio" src="https://cdn.pixabay.com/audio/2022/03/15/audio_1120b53a82.mp3" preload="auto" aria-hidden="true"></audio>

  <noscript>
    ‚ö†Ô∏è ATEN√á√ÉO: Este portal corporativo requer JavaScript habilitado. Por favor, ative o JavaScript nas configura√ß√µes do seu navegador para acessar todas as funcionalidades.
  </noscript>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

      // ========================================
      // ===== üé® SISTEMA DE TEMAS M√öLTIPLOS =====
      // ========================================

      const themeToggle = document.getElementById('themeToggle');
      const themeDropdown = document.getElementById('themeDropdown');
      const root = document.documentElement;
      const themeIcon = themeToggle.querySelector('.theme-icon');
      const mobileCurrentTheme = document.getElementById('mobileCurrentTheme');

      const themeIcons = { light: '‚òÄÔ∏è', dark: 'üåô', highContrast: '‚ö´', meliClassic: 'üåà' };
      const themeNames = { light: 'Claro', dark: 'Escuro', highContrast: 'Alto Contraste', meliClassic: 'Meli Classic' };

      let currentTheme = localStorage.getItem('theme') || 'light';
      root.setAttribute('data-theme', currentTheme);
      themeIcon.textContent = themeIcons[currentTheme];
      if (mobileCurrentTheme) mobileCurrentTheme.textContent = themeNames[currentTheme];

      function updateThemeOptions() {
        document.querySelectorAll('.theme-option').forEach(option => {
          option.classList.toggle('active', option.dataset.theme === currentTheme);
        });
      }
      updateThemeOptions();

      themeToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        themeDropdown.classList.toggle('active');
      });

      document.addEventListener('click', (e) => {
        if (!themeToggle.contains(e.target) && !themeDropdown.contains(e.target)) {
          themeDropdown.classList.remove('active');
        }
      });

      document.querySelectorAll('.theme-option').forEach(option => {
        option.addEventListener('click', () => {
          currentTheme = option.dataset.theme;
          root.setAttribute('data-theme', currentTheme);
          localStorage.setItem('theme', currentTheme);
          themeIcon.textContent = themeIcons[currentTheme];
          if (mobileCurrentTheme) mobileCurrentTheme.textContent = themeNames[currentTheme];
          updateThemeOptions();
          themeDropdown.classList.remove('active');
          showNotification(`üé® Tema "${themeNames[currentTheme]}" ativado!`);
        });
      });

      document.getElementById('mobileThemeSelector')?.addEventListener('click', () => {
        const themes = ['light', 'dark', 'highContrast', 'meliClassic'];
        const currentIndex = themes.indexOf(currentTheme);
        const nextIndex = (currentIndex + 1) % themes.length;
        currentTheme = themes[nextIndex];
        root.setAttribute('data-theme', currentTheme);
        localStorage.setItem('theme', currentTheme);
        if (mobileCurrentTheme) mobileCurrentTheme.textContent = themeNames[currentTheme];
        showNotification(`üé® Tema "${themeNames[currentTheme]}" ativado!`);
      });

      // ========================================
      // ===== 14. MOBILE MENU =====
      // ========================================

      const hamburgerMenu = document.getElementById('hamburgerMenu');
      const mobileNav = document.getElementById('mobileNav');
      const mobileOverlay = document.getElementById('mobileOverlay');
      const mobileNavClose = document.getElementById('mobileNavClose');

      function openMobileMenu() {
        mobileNav.classList.add('active');
        mobileOverlay.classList.add('active');
        hamburgerMenu.classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closeMobileMenu() {
        mobileNav.classList.remove('active');
        mobileOverlay.classList.remove('active');
        hamburgerMenu.classList.remove('active');
        document.body.style.overflow = '';
      }

      hamburgerMenu?.addEventListener('click', openMobileMenu);
      mobileNavClose?.addEventListener('click', closeMobileMenu);
      mobileOverlay?.addEventListener('click', closeMobileMenu);

      // Gestos Touch para fechar menu
      let touchStartX = 0;
      mobileNav?.addEventListener('touchstart', e => touchStartX = e.touches[0].clientX);
      mobileNav?.addEventListener('touchend', e => {
        const diff = e.changedTouches[0].clientX - touchStartX;
        if (diff > 100) closeMobileMenu();
      });

      // ========================================
      // ===== CONNECTION STATUS =====
      // ========================================

      const connectionStatus = document.getElementById('connectionStatus');
      const statusDot = connectionStatus?.querySelector('.status-dot');
      const statusText = connectionStatus?.querySelector('.status-text');
      const mobileConnectionStatus = document.getElementById('mobileConnectionStatus');

      function updateConnectionStatus(isOnline) {
        if (!connectionStatus) return;
        if (isOnline) {
          connectionStatus.style.background = 'var(--ml-success-bg)';
          connectionStatus.style.borderColor = 'rgba(0, 166, 80, 0.2)';
          statusDot.style.background = 'var(--ml-green)';
          statusDot.style.boxShadow = '0 0 10px var(--ml-green)';
          statusText.textContent = 'Online';
          statusText.style.color = 'var(--ml-green-dark)';
          if (mobileConnectionStatus) mobileConnectionStatus.textContent = 'Online';
        } else {
          connectionStatus.style.background = '#ffe0e0';
          connectionStatus.style.borderColor = 'rgba(230, 0, 35, 0.2)';
          statusDot.style.background = 'var(--ml-red)';
          statusDot.style.boxShadow = '0 0 10px var(--ml-red)';
          statusText.textContent = 'Offline';
          statusText.style.color = 'var(--ml-red)';
          if (mobileConnectionStatus) mobileConnectionStatus.textContent = 'Offline';
        }
      }

      window.addEventListener('online', () => updateConnectionStatus(true));
      window.addEventListener('offline', () => updateConnectionStatus(false));
      updateConnectionStatus(navigator.onLine);

      // ========================================
      // ===== 21. PRESENTATION MODE =====
      // ========================================

      const presentationBtn = document.getElementById('presentationBtn');
      const mobilePresentationMode = document.getElementById('mobilePresentationMode');

      function togglePresentationMode() {
        if (!document.fullscreenElement) {
          document.documentElement.requestFullscreen().then(() => {
            document.body.classList.add('presentation-mode');
          }).catch(err => {
            console.log('Fullscreen error:', err);
            document.body.classList.toggle('presentation-mode');
          });
        } else {
          document.exitFullscreen();
          document.body.classList.remove('presentation-mode');
        }
      }

      presentationBtn?.addEventListener('click', togglePresentationMode);
      mobilePresentationMode?.addEventListener('click', () => {
        closeMobileMenu();
        togglePresentationMode();
      });

      document.addEventListener('fullscreenchange', () => {
        if (!document.fullscreenElement) {
          document.body.classList.remove('presentation-mode');
        }
      });

      // ========================================
      // ===== GEST√ÉO DE PERFIL DO USU√ÅRIO =====
      // ========================================

      let userProfile = {
        name: 'Usu√°rio',
        shift: '',
        shiftTime: '',
        shiftName: '',
        workDays: [],
        workDaysNames: []
      };

      const shiftData = {
        'T1': { name: 'T1 - Manh√£', time: '05:30 √†s 14:30' },
        'T2': { name: 'T2 - Tarde', time: '13:00 √†s 22:00' },
        'T3': { name: 'T3 - Noite', time: '22:00 √†s 07:00' }
      };

      const weekdayNamesLong = {
        0: 'Domingo',
        1: 'Segunda-feira',
        2: 'Ter√ßa-feira',
        3: 'Quarta-feira',
        4: 'Quinta-feira',
        5: 'Sexta-feira',
        6: 'S√°bado'
      };

      function loadUserProfile() {
        const saved = localStorage.getItem('userProfile');
        if (saved) {
          userProfile = JSON.parse(saved);
          return true;
        }
        return false;
      }

      function saveUserProfile() {
        localStorage.setItem('userProfile', JSON.stringify(userProfile));
      }

      function openProfileConfig() {
        const modal = document.getElementById('profileConfigModal');

        // Reset checks
        document.getElementById('profileConfigForm')?.reset();

        // Preencher dados existentes
        document.getElementById('profileName').value = userProfile.name || '';

        if (userProfile.shift) {
          const radio = document.getElementById(`shift-${userProfile.shift.toLowerCase()}`);
          if (radio) radio.checked = true;
        }

        (userProfile.workDays || []).forEach(day => {
          const checkbox = document.getElementById(`day-${day}`);
          if (checkbox) checkbox.checked = true;
        });

        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }

      function closeProfileConfig() {
        document.getElementById('profileConfigModal')?.classList.remove('active');
        document.body.style.overflow = '';
      }

      function updateUserUI() {
        const name = userProfile.name || 'Usu√°rio';
        const userInitials = name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);

        document.getElementById('userName').textContent = name;
        document.getElementById('heroUserName').textContent = name;
        document.getElementById('userAvatar').textContent = userInitials;

        // Mobile
        const mobileUserName = document.getElementById('mobileUserName');
        const mobileUserAvatar = document.getElementById('mobileUserAvatar');
        const mobileUserRole = document.getElementById('mobileUserRole');

        if (mobileUserName) mobileUserName.textContent = name;
        if (mobileUserAvatar) mobileUserAvatar.textContent = userInitials;

        // Atualizar role com informa√ß√µes de turno
        const userRoleEls = document.querySelectorAll('.user-role');
        userRoleEls.forEach(el => {
          if (userProfile.shift && userProfile.shiftTime) {
            el.textContent = `${userProfile.shift} | ${userProfile.shiftTime}`;
          } else {
            el.textContent = 'IS-FIELD Team';
          }
        });

        if (mobileUserRole) {
          if (userProfile.shift && userProfile.shiftTime) {
            mobileUserRole.textContent = `${userProfile.shift} | ${userProfile.shiftTime}`;
          } else {
            mobileUserRole.textContent = 'IS-FIELD Team';
          }
        }
      }

      function initializeUser() {
        const hasProfile = loadUserProfile();
        if (!hasProfile) {
          setTimeout(() => openProfileConfig(), 2000);
        } else {
          updateUserUI();
        }
      }

      // Submit do formul√°rio de perfil
      document.getElementById('profileConfigForm')?.addEventListener('submit', (e) => {
        e.preventDefault();

        const name = document.getElementById('profileName').value.trim();
        const shift = document.querySelector('input[name="shift"]:checked')?.value;
        const workDaysCheckboxes = document.querySelectorAll('input[name="workDays"]:checked');
        const workDays = Array.from(workDaysCheckboxes).map(cb => parseInt(cb.value, 10));

        if (!name) { alert('‚ö†Ô∏è Por favor, digite seu nome!'); return; }
        if (!shift) { alert('‚ö†Ô∏è Por favor, selecione seu turno de trabalho!'); return; }
        if (workDays.length === 0) { alert('‚ö†Ô∏è Por favor, selecione pelo menos um dia da semana!'); return; }

        userProfile = {
          name,
          shift,
          shiftTime: shiftData[shift].time,
          shiftName: shiftData[shift].name,
          workDays: workDays.sort((a, b) => a - b),
          workDaysNames: workDays.map(d => weekdayNamesLong[d])
        };

        saveUserProfile();
        updateUserUI();
        closeProfileConfig();

        // Recarregar conte√∫do pois templates mudaram
        populateContent();

        showNotification(`‚úÖ Perfil configurado com sucesso!\n\nüë§ ${name}\nüïê ${shiftData[shift].name}\nüìÖ ${userProfile.workDaysNames.join(', ')}`);
        beep();
      });

      document.getElementById('profileCancelBtn')?.addEventListener('click', () => {
        // Se √© primeira vez e cancela, usar defaults
        if (!userProfile.shift) {
          userProfile = {
            name: 'Colaborador',
            shift: 'T2',
            shiftTime: '13:00 √†s 22:00',
            shiftName: 'T2 - Tarde',
            workDays: [1,2,3,4,5],
            workDaysNames: ['Segunda-feira','Ter√ßa-feira','Quarta-feira','Quinta-feira','Sexta-feira']
          };
          saveUserProfile();
          updateUserUI();
        }
        closeProfileConfig();
      });

      function changeUserProfile() {
        openProfileConfig();
      }

      document.getElementById('userInfo')?.addEventListener('click', changeUserProfile);
      document.getElementById('mobileUserInfo')?.addEventListener('click', () => {
        closeMobileMenu();
        changeUserProfile();
      });

      // Fechar modal ao clicar fora (apenas se j√° configurou)
      document.getElementById('profileConfigModal')?.addEventListener('click', (e) => {
        if (e.target === e.currentTarget) {
          if (userProfile.shift) closeProfileConfig();
        }
      });

      initializeUser();

      // ===== CLOCK =====
      function updateClock() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        document.getElementById('currentTime').textContent = `${hours}:${minutes}:${seconds}`;
      }
      updateClock();
      setInterval(updateClock, 1000);

      // ========================================
      // ===== 24. PARALLAX SUTIL =====
      // ========================================

      const heroContainer = document.getElementById('heroContainer');
      window.addEventListener('scroll', () => {
        const scrolled = window.scrollY;
        if (heroContainer && scrolled < 600) {
          heroContainer.style.transform = `translateY(${scrolled * 0.3}px)`;
        }
      }, { passive: true });

      // ===========================================
      // ===== ‚òÅÔ∏èüå°Ô∏è WEATHER API ULTRA PREMIUM =====
      // ===========================================
      const weatherWidget = document.getElementById('weatherWidget');
      const weatherIconEl = document.getElementById('weatherIcon');
      const weatherTempEl = document.getElementById('weatherTemp');
      const weatherFeelsLikeEl = document.getElementById('weatherFeelsLike');
      const weatherLocationEl = document.getElementById('weatherLocation');
      const weatherDescriptionEl = document.getElementById('weatherDescription');
      const weatherDetailsMiniEl = document.getElementById('weatherDetailsMini');
      const forecastModal = document.getElementById('forecastModal');
      const closeForecastModalBtn = document.getElementById('closeForecastModal');
      const forecastGridEl = document.getElementById('forecastGrid');
      const forecastModalLocationEl = document.getElementById('forecastModalLocation');
      const forecastCurrentIcon = document.getElementById('forecastCurrentIcon');
      const forecastCurrentTemp = document.getElementById('forecastCurrentTemp');
      const forecastCurrentDesc = document.getElementById('forecastCurrentDesc');
      const forecastCurrentDetails = document.getElementById('forecastCurrentDetails');
      const forecastExtraInfo = document.getElementById('forecastExtraInfo');

      // Mobile weather elements
      const mobileWeatherIcon = document.getElementById('mobileWeatherIcon');
      const mobileWeatherTemp = document.getElementById('mobileWeatherTemp');
      const mobileWeatherLocation = document.getElementById('mobileWeatherLocation');
      const mobileWeatherDesc = document.getElementById('mobileWeatherDesc');

      const weatherIcons = {
        0: '‚òÄÔ∏è', 1: 'üå§Ô∏è', 2: '‚õÖ', 3: '‚òÅÔ∏è',
        45: 'üå´Ô∏è', 48: 'üå´Ô∏è',
        51: 'üå¶Ô∏è', 53: 'üå¶Ô∏è', 55: 'üåßÔ∏è',
        61: 'üåßÔ∏è', 63: 'üåßÔ∏è', 65: '‚õàÔ∏è',
        71: 'üå®Ô∏è', 73: 'üå®Ô∏è', 75: '‚ùÑÔ∏è', 77: 'üå®Ô∏è',
        80: 'üå¶Ô∏è', 81: '‚õàÔ∏è', 82: '‚õàÔ∏è',
        85: 'üå®Ô∏è', 86: '‚ùÑÔ∏è',
        95: '‚õàÔ∏è', 96: '‚õàÔ∏è', 99: '‚õàÔ∏è'
      };

      const weatherDescriptions = {
        0: 'C√©u Limpo', 1: 'Principalmente Limpo', 2: 'Parcialmente Nublado', 3: 'Nublado',
        45: 'Neblina', 48: 'Nevoeiro',
        51: 'Garoa Leve', 53: 'Garoa Moderada', 55: 'Garoa Intensa',
        61: 'Chuva Leve', 63: 'Chuva Moderada', 65: 'Chuva Forte',
        71: 'Neve Leve', 73: 'Neve Moderada', 75: 'Neve Intensa', 77: 'Neve Granular',
        80: 'Pancadas Leves', 81: 'Pancadas Moderadas', 82: 'Pancadas Fortes',
        85: 'Nevada Leve', 86: 'Nevada Forte',
        95: 'Tempestade', 96: 'Tempestade com Granizo Leve', 99: 'Tempestade com Granizo Forte'
      };

      async function getWeatherForCity(city) {
        try {
          const geocodingUrl = `https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(city)}&count=1&language=pt&format=json`;
          const geoRes = await fetch(geocodingUrl);
          const geoData = await geoRes.json();
          if (geoData.results && geoData.results.length > 0) {
            const { latitude, longitude, name, country_code } = geoData.results[0];
            const displayName = `${name}, ${country_code}`;
            localStorage.setItem('weatherCity', JSON.stringify({ name: displayName, latitude, longitude }));
            fetchWeather(latitude, longitude, displayName);
          } else {
            alert('üîç Cidade n√£o encontrada. Tente novamente com outro nome.');
            showWeatherFallback();
          }
        } catch {
          alert('‚ùå Erro ao buscar a cidade. Verifique sua conex√£o.');
          showWeatherFallback();
        }
      }

      function getUVLevel(uv) {
        if (uv <= 2) return 'üü¢';
        if (uv <= 5) return 'üü°';
        if (uv <= 7) return 'üü†';
        if (uv <= 10) return 'üî¥';
        return 'üü£';
      }

      async function fetchWeather(lat, lon, locationName) {
        const weatherUrl = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&daily=weathercode,temperature_2m_max,temperature_2m_min,windspeed_10m_max,precipitation_sum,precipitation_probability_max,uv_index_max,sunrise,sunset&hourly=temperature_2m,relativehumidity_2m,apparent_temperature,visibility,windspeed_10m&timezone=auto`;

        try {
          const weatherRes = await fetch(weatherUrl);
          const weatherData = await weatherRes.json();

          const temp = Math.round(weatherData.current_weather.temperature);
          const weatherCode = weatherData.current_weather.weathercode;
          const windSpeed = Math.round(weatherData.current_weather.windspeed);
          const icon = weatherIcons[weatherCode] || 'üå°Ô∏è';
          const description = weatherDescriptions[weatherCode] || 'Clima Atual';

          const currentHumidity = weatherData.hourly.relativehumidity_2m[0] || 0;
          const feelsLike = Math.round(weatherData.hourly.apparent_temperature[0] || temp);
          const visibility = Math.round((weatherData.hourly.visibility[0] || 10000) / 1000);
          const uvIndex = weatherData.daily.uv_index_max[0] || 0;

          weatherIconEl.textContent = icon;
          weatherTempEl.querySelector('span:first-child').textContent = `${temp}¬∞C`;
          weatherFeelsLikeEl.textContent = `Sensa√ß√£o ${feelsLike}¬∞`;
          weatherLocationEl.querySelector('span:last-child').textContent = locationName;
          weatherDescriptionEl.textContent = description;

          weatherDetailsMiniEl.innerHTML = `
            <div class="weather-detail-mini"><span>üí®</span><span>${windSpeed}km/h</span></div>
            <div class="weather-detail-mini"><span>üíß</span><span>${currentHumidity}%</span></div>
          `;

          if (mobileWeatherIcon) mobileWeatherIcon.textContent = icon;
          if (mobileWeatherTemp) mobileWeatherTemp.textContent = `${temp}¬∞C`;
          if (mobileWeatherLocation) mobileWeatherLocation.textContent = locationName;
          if (mobileWeatherDesc) mobileWeatherDesc.textContent = description;

          forecastCurrentIcon.textContent = icon;
          forecastCurrentTemp.textContent = `${temp}¬∞C`;
          forecastCurrentDesc.textContent = description;

          const precipProb = weatherData.daily.precipitation_probability_max[0] || 0;
          const precipSum = Math.round(weatherData.daily.precipitation_sum[0] || 0);

          forecastCurrentDetails.innerHTML = `
            <div class="forecast-detail-item"><span>üí®</span><span>Vento<br>${windSpeed} km/h</span></div>
            <div class="forecast-detail-item"><span>üå°Ô∏è</span><span>Sensa√ß√£o<br>${feelsLike}¬∞C</span></div>
            <div class="forecast-detail-item"><span>üíß</span><span>Umidade<br>${currentHumidity}%</span></div>
            <div class="forecast-detail-item"><span>‚òî</span><span>Chuva<br>${precipProb}%</span></div>
            <div class="forecast-detail-item"><span>üëÅÔ∏è</span><span>Visibilidade<br>${visibility} km</span></div>
            <div class="forecast-detail-item"><span>‚òÄÔ∏è</span><span>UV Index<br>${Math.round(uvIndex)}</span></div>
          `;

          const sunrise = new Date(weatherData.daily.sunrise[0]).toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
          const sunset = new Date(weatherData.daily.sunset[0]).toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });

          forecastExtraInfo.innerHTML = `
            <div class="extra-info-card">
              <div class="extra-info-icon">üåÖ</div>
              <div class="extra-info-label">Nascer do Sol</div>
              <div class="extra-info-value">${sunrise}</div>
            </div>
            <div class="extra-info-card">
              <div class="extra-info-icon">üåá</div>
              <div class="extra-info-label">P√¥r do Sol</div>
              <div class="extra-info-value">${sunset}</div>
            </div>
            <div class="extra-info-card">
              <div class="extra-info-icon">‚òÄÔ∏è</div>
              <div class="extra-info-label">√çndice UV</div>
              <div class="extra-info-value">${Math.round(uvIndex)} ${getUVLevel(uvIndex)}</div>
            </div>
            <div class="extra-info-card">
              <div class="extra-info-icon">üíß</div>
              <div class="extra-info-label">Precipita√ß√£o Hoje</div>
              <div class="extra-info-value">${precipSum}mm</div>
            </div>
          `;

          displayForecast(weatherData.daily, locationName);
        } catch (err) {
          console.error('Weather fetch error:', err);
          showWeatherFallback();
        }
      }

      function displayForecast(dailyData, locationName) {
        forecastGridEl.innerHTML = '';
        forecastModalLocationEl.textContent = locationName;
        const weekdays = ['Domingo', 'Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado'];
        const weekdaysShort = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];

        dailyData.time.forEach((dateStr, index) => {
          if (index === 0) return;
          if (index > 7) return;

          const date = new Date(dateStr + 'T00:00:00');
          const dayName = window.innerWidth > 768 ? weekdays[date.getDay()] : weekdaysShort[date.getDay()];
          const icon = weatherIcons[dailyData.weathercode[index]] || 'üå°Ô∏è';
          const maxTemp = Math.round(dailyData.temperature_2m_max[index]);
          const minTemp = Math.round(dailyData.temperature_2m_min[index]);
          const precipProb = dailyData.precipitation_probability_max[index] || 0;
          const windSpeed = Math.round(dailyData.windspeed_10m_max[index]);

          const dayEl = document.createElement('div');
          dayEl.className = 'forecast-day';
          dayEl.innerHTML = `
            <div class="forecast-day-name">${dayName}</div>
            <div class="forecast-day-icon">${icon}</div>
            <div class="forecast-day-temps">
              <span>${maxTemp}¬∞</span>
              <span class="temp-label">M√°xima</span>
              <div style="font-size: 0.9rem; color: var(--ml-text-tertiary); margin-top: 0.35rem; font-weight: 700;">${minTemp}¬∞ M√≠nima</div>
              ${precipProb > 10 ? `<div class="forecast-day-precip">‚òî ${precipProb}%</div>` : ''}
              ${windSpeed > 20 ? `<div style="font-size: 0.7rem; color: var(--ml-text-light); margin-top: 0.25rem; font-weight: 600;">üí® ${windSpeed}km/h</div>` : ''}
            </div>
          `;
          forecastGridEl.appendChild(dayEl);
        });
      }

      function showWeatherFallback() {
        const hour = new Date().getHours();
        let icon = (hour >= 6 && hour < 12) ? 'üåÖ' : (hour >= 12 && hour < 18) ? '‚òÄÔ∏è' : 'üåô';
        let status = (hour >= 6 && hour < 12) ? 'Bom Dia' : (hour >= 12 && hour < 18) ? 'Boa Tarde' : 'Boa Noite';

        weatherIconEl.textContent = icon;
        weatherTempEl.querySelector('span:first-child').textContent = status;
        weatherFeelsLikeEl.textContent = '';
        weatherLocationEl.querySelector('span:last-child').textContent = 'Brasil';
        weatherDescriptionEl.textContent = 'Clima Local';
        weatherDetailsMiniEl.innerHTML = '';

        if (mobileWeatherIcon) mobileWeatherIcon.textContent = icon;
        if (mobileWeatherTemp) mobileWeatherTemp.textContent = status;
        if (mobileWeatherLocation) mobileWeatherLocation.textContent = 'Brasil';
        if (mobileWeatherDesc) mobileWeatherDesc.textContent = 'Clima Local';
      }

      function initializeWeather() {
        const savedCity = localStorage.getItem('weatherCity');
        if (savedCity) {
          const { latitude, longitude, name } = JSON.parse(savedCity);
          fetchWeather(latitude, longitude, name);
        } else {
          navigator.geolocation.getCurrentPosition(
            async (position) => {
              const { latitude: lat, longitude: lon } = position.coords;
              try {
                const geoUrl = `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=pt`;
                const geoRes = await fetch(geoUrl);
                const geoData = await geoRes.json();
                const city = geoData.city || geoData.locality || 'Sua Localiza√ß√£o';
                const countryCode = geoData.countryCode || 'BR';
                fetchWeather(lat, lon, `${city}, ${countryCode}`);
              } catch {
                showWeatherFallback();
              }
            },
            () => showWeatherFallback()
          );
        }
      }

      weatherLocationEl?.addEventListener('click', (e) => {
        e.stopPropagation();
        const currentCity = weatherLocationEl.querySelector('span:last-child').textContent.split(',')[0];
        const newCity = prompt('üåç Digite o nome da cidade:\n\nExemplos: S√£o Paulo, Rio de Janeiro, Lisboa, Nova York', currentCity);
        if (newCity && newCity.trim()) {
          getWeatherForCity(newCity.trim());
        }
      });

      weatherWidget?.addEventListener('click', () => forecastModal.classList.add('active'));
      closeForecastModalBtn?.addEventListener('click', () => forecastModal.classList.remove('active'));
      forecastModal?.addEventListener('click', (e) => { if (e.target === forecastModal) forecastModal.classList.remove('active'); });

      document.getElementById('mobileWeather')?.addEventListener('click', () => {
        closeMobileMenu();
        forecastModal.classList.add('active');
      });

      forecastModal?.addEventListener('touchstart', e => touchStartX = e.touches[0].clientX);
      forecastModal?.addEventListener('touchend', e => {
        const diff = e.changedTouches[0].clientX - touchStartX;
        if (Math.abs(diff) > 100) forecastModal.classList.remove('active');
      });

      initializeWeather();
      setInterval(initializeWeather, 15 * 60 * 1000);
      // ===========================================
      // ===== üìù SISTEMA DE NOTAS R√ÅPIDAS =====
      // ===========================================

      let notes = JSON.parse(localStorage.getItem('notes') || '[]');
      const notesGrid = document.getElementById('notesGrid');
      const addNoteBtn = document.getElementById('addNoteBtn');
      const notesCountEl = document.getElementById('notesCount');
      const mobileNotesCountEl = document.getElementById('mobileNotesCount');

      const noteColors = ['#FFF4B3','#E8F1FF','#E8F7F0','#FFE0E0','#F0E8FF','#FFE8D5'];
      function getRandomColor() { return noteColors[Math.floor(Math.random() * noteColors.length)]; }

      function getTimeAgo(timestamp) {
        const now = Date.now();
        const diff = now - timestamp;
        const minutes = Math.floor(diff / 60000);
        const hours = Math.floor(diff / 3600000);
        const days = Math.floor(diff / 86400000);

        if (minutes < 1) return 'Agora mesmo';
        if (minutes < 60) return `H√° ${minutes} min`;
        if (hours < 24) return `H√° ${hours}h`;
        return `H√° ${days}d`;
      }

      function addNote() {
        const content = prompt('üìù Digite o conte√∫do da nota:\n\n(Use para lembretes, senhas tempor√°rias, observa√ß√µes importantes)');
        if (content && content.trim()) {
          const note = { id: Date.now(), content: content.trim(), timestamp: Date.now(), color: getRandomColor() };
          notes.unshift(note);
          localStorage.setItem('notes', JSON.stringify(notes));
          renderNotes();
          updateNotesCount();
          showNotification('‚úÖ Nota criada com sucesso!');
          beep();
        }
      }

      function deleteNote(id) {
        if (confirm('üóëÔ∏è Deseja realmente excluir esta nota?')) {
          notes = notes.filter(note => note.id !== id);
          localStorage.setItem('notes', JSON.stringify(notes));
          renderNotes();
          updateNotesCount();
          showNotification('üóëÔ∏è Nota exclu√≠da!');
        }
      }

      function editNote(id) {
        const note = notes.find(n => n.id === id);
        if (!note) return;
        const newContent = prompt('‚úèÔ∏è Editar nota:', note.content);
        if (newContent && newContent.trim()) {
          note.content = newContent.trim();
          note.timestamp = Date.now();
          localStorage.setItem('notes', JSON.stringify(notes));
          renderNotes();
          showNotification('‚úèÔ∏è Nota atualizada!');
        }
      }

      function renderNotes() {
        if (notes.length === 0) {
          notesGrid.innerHTML = '<div class="notes-empty">Clique em "+ Nova Nota" para come√ßar</div>';
          return;
        }

        notesGrid.innerHTML = '';
        notes.forEach((note, index) => {
          const noteEl = document.createElement('div');
          noteEl.className = 'note-item';
          noteEl.style.animationDelay = `${index * 0.05}s`;
          noteEl.style.borderLeftColor = note.color;
          noteEl.style.borderLeftWidth = '4px';

          const timeAgo = getTimeAgo(note.timestamp);

          noteEl.innerHTML = `
            <div class="note-header">
              <div class="note-color" style="background: ${note.color};"></div>
              <button class="note-delete" onclick="deleteNote(${note.id})" title="Excluir nota">üóëÔ∏è</button>
            </div>
            <div class="note-content">${escapeHTML(note.content)}</div>
            <div class="note-timestamp">üìÖ ${timeAgo}</div>
          `;

          noteEl.addEventListener('dblclick', () => editNote(note.id));
          noteEl.addEventListener('click', (e) => {
            if (!e.target.classList.contains('note-delete')) {
              navigator.clipboard.writeText(note.content).then(() => {
                showNotification('üìã Nota copiada para a √°rea de transfer√™ncia!');
                beep();
              });
            }
          });

          notesGrid.appendChild(noteEl);
        });
      }

      function updateNotesCount() {
        if (notesCountEl) animateNumber(notesCountEl, notes.length);
        if (mobileNotesCountEl) mobileNotesCountEl.textContent = `${notes.length} ${notes.length === 1 ? 'nota' : 'notas'}`;
      }

      window.deleteNote = deleteNote;
      window.editNote = editNote;

      addNoteBtn?.addEventListener('click', addNote);
      document.getElementById('mobileNotesBtn')?.addEventListener('click', () => {
        closeMobileMenu();
        document.getElementById('notesCard')?.scrollIntoView({ behavior: 'smooth' });
      });

      renderNotes();
      updateNotesCount();

      // ===========================================
      // ===== üîî SISTEMA DE LEMBRETES =====
      // ===========================================

      let reminders = JSON.parse(localStorage.getItem('reminders') || '[]');

      if (reminders.length === 0) {
        reminders = [
          { id: 1, title: 'Passagem de Turno', time: '21:45', days: [1,2,3,4,5], enabled: true, icon: 'üìã' },
          { id: 2, title: 'Verificar Tickets Pendentes', time: '14:00', days: [1,2,3,4,5], enabled: true, icon: 'üé´' },
          { id: 3, title: 'Backup de Dados', time: '18:00', days: [5], enabled: false, icon: 'üíæ' }
        ];
        localStorage.setItem('reminders', JSON.stringify(reminders));
      }

      const remindersList = document.getElementById('remindersList');
      const addReminderBtn = document.getElementById('addReminderBtn');
      const mobileRemindersCountEl = document.getElementById('mobileRemindersCount');
      const weekdayNames = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'S√°b'];

      function addReminder() {
        const title = prompt('üîî T√≠tulo do lembrete:\n\nExemplo: Reuni√£o di√°ria, Backup semanal, etc.');
        if (!title || !title.trim()) return;

        const time = prompt('‚è∞ Hor√°rio (HH:MM):\n\nExemplo: 14:30, 09:00, 18:45', '14:00');
        if (!time || !time.match(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/)) {
          alert('‚ö†Ô∏è Hor√°rio inv√°lido! Use o formato HH:MM (ex: 14:30)');
          return;
        }

        const daysInput = prompt('üìÖ Dias da semana (n√∫meros separados por v√≠rgula):\n\n1=Seg, 2=Ter, 3=Qua, 4=Qui, 5=Sex, 6=S√°b, 0=Dom\n\nExemplo: 1,2,3,4,5', '1,2,3,4,5');
        if (!daysInput) return;

        const days = daysInput.split(',').map(d => parseInt(d.trim(), 10)).filter(d => d >= 0 && d <= 6);
        if (days.length === 0) {
          alert('‚ö†Ô∏è Nenhum dia v√°lido selecionado!');
          return;
        }

        const reminder = { id: Date.now(), title: title.trim(), time, days, enabled: true, icon: 'üîî' };
        reminders.push(reminder);
        localStorage.setItem('reminders', JSON.stringify(reminders));
        renderReminders();
        showNotification('‚úÖ Lembrete criado com sucesso!');
        beep();
      }

      function toggleReminder(id) {
        const reminder = reminders.find(r => r.id === id);
        if (reminder) {
          reminder.enabled = !reminder.enabled;
          localStorage.setItem('reminders', JSON.stringify(reminders));
          renderReminders();
          showNotification(reminder.enabled ? 'üîî Lembrete ativado!' : 'üîï Lembrete desativado!');
        }
      }

      function deleteReminder(id) {
        if (confirm('üóëÔ∏è Deseja realmente excluir este lembrete?')) {
          reminders = reminders.filter(r => r.id !== id);
          localStorage.setItem('reminders', JSON.stringify(reminders));
          renderReminders();
          showNotification('üóëÔ∏è Lembrete exclu√≠do!');
        }
      }

      function renderReminders() {
        const activeCount = reminders.filter(r => r.enabled).length;
        if (mobileRemindersCountEl) mobileRemindersCountEl.textContent = `${activeCount} ${activeCount === 1 ? 'ativo' : 'ativos'}`;

        if (reminders.length === 0) {
          remindersList.innerHTML = '<div class="reminders-empty">Clique em "+ Novo Lembrete" para criar</div>';
          return;
        }

        remindersList.innerHTML = '';
        reminders.forEach(reminder => {
          const daysText = reminder.days.map(d => weekdayNames[d]).join(', ');
          const reminderEl = document.createElement('div');
          reminderEl.className = 'reminder-item';
          reminderEl.innerHTML = `
            <div class="reminder-toggle ${reminder.enabled ? 'active' : ''}" onclick="toggleReminder(${reminder.id})"></div>
            <div class="reminder-info">
              <div class="reminder-title-text">${reminder.icon} ${escapeHTML(reminder.title)}</div>
              <div class="reminder-schedule">‚è∞ ${reminder.time} | üìÖ ${daysText}</div>
            </div>
            <button class="reminder-delete" onclick="deleteReminder(${reminder.id})" title="Excluir lembrete">üóëÔ∏è</button>
          `;
          remindersList.appendChild(reminderEl);
        });
      }

      function checkReminders() {
        const now = new Date();
        const currentTime = `${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
        const currentDay = now.getDay();

        reminders.forEach(reminder => {
          if (reminder.enabled && reminder.time === currentTime && reminder.days.includes(currentDay)) {
            const lastNotification = localStorage.getItem(`reminder_${reminder.id}_last`);
            const today = now.toDateString();

            if (lastNotification !== today) {
              showNotification(`${reminder.icon} ${reminder.title}`, {
                requireInteraction: true,
                tag: `reminder_${reminder.id}`,
                vibrate: [200, 100, 200]
              });
              beep();
              localStorage.setItem(`reminder_${reminder.id}_last`, today);
            }
          }
        });
      }

      window.toggleReminder = toggleReminder;
      window.deleteReminder = deleteReminder;

      addReminderBtn?.addEventListener('click', addReminder);
      document.getElementById('mobileRemindersBtn')?.addEventListener('click', () => {
        closeMobileMenu();
        document.getElementById('remindersCard')?.scrollIntoView({ behavior: 'smooth' });
      });

      setInterval(checkReminders, 60000);
      renderReminders();

      // ===========================================
      // ===== üîç AUTOCOMPLETE NA BUSCA =====
      // ===========================================

      const searchSuggestions = document.getElementById('searchSuggestions');

      function highlightMatch(text, query) {
        const escapedText = escapeHTML(text);
        const escapedQuery = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
        const regex = new RegExp(`(${escapedQuery})`, 'gi');
        return escapedText.replace(regex, '<mark>$1</mark>');
      }

      function showSuggestions(query) {
        if (query.length < 2) {
          searchSuggestions.classList.add('hidden');
          searchSuggestions.innerHTML = '';
          return;
        }

        const lowerQuery = query.toLowerCase();
        const matches = [];

        linkCategories.forEach(cat => {
          cat.items.forEach(item => {
            if (item.label.toLowerCase().includes(lowerQuery) || item.url.toLowerCase().includes(lowerQuery)) {
              matches.push({ ...item, category: cat.categoryLabel, type: 'link' });
            }
          });
        });

        const readyTextsTemplate = getReadyTextsTemplate();
        readyTextsTemplate.forEach(item => {
          if (item.label.toLowerCase().includes(lowerQuery) || item.text.toLowerCase().includes(lowerQuery)) {
            matches.push({ label: item.label, icon: 'üìù', category: 'Templates de Texto', type: 'text', text: item.text });
          }
        });

        notes.forEach(note => {
          if (note.content.toLowerCase().includes(lowerQuery)) {
            matches.push({
              label: note.content.substring(0, 50) + (note.content.length > 50 ? '...' : ''),
              icon: 'üìù',
              category: 'Notas R√°pidas',
              type: 'note',
              content: note.content
            });
          }
        });

        if (matches.length === 0) { searchSuggestions.classList.add('hidden'); return; }

        const limitedMatches = matches.slice(0, 8);

        searchSuggestions.innerHTML = limitedMatches.map(match => `
          <div class="suggestion-item" data-type="${match.type}" data-url="${match.url || ''}" data-text="${escapeHTML(match.text || match.content || '')}">
            <span class="suggestion-icon">${match.icon}</span>
            <div class="suggestion-details">
              <div class="suggestion-label">${highlightMatch(match.label, query)}</div>
              <div class="suggestion-category">${match.category}</div>
            </div>
            <span class="suggestion-badge">${match.type === 'link' ? 'Link' : match.type === 'text' ? 'Template' : 'Nota'}</span>
          </div>
        `).join('');

        searchSuggestions.classList.remove('hidden');

        document.querySelectorAll('.suggestion-item').forEach(item => {
          item.addEventListener('click', () => {
            const type = item.dataset.type;
            const url = item.dataset.url;
            const text = item.dataset.text;

            if (type === 'link' && url) {
              window.open(url, '_blank', 'noopener,noreferrer');
              trackLinkAccess(url, item.querySelector('.suggestion-label').textContent, item.querySelector('.suggestion-icon').textContent);
            } else if ((type === 'text' || type === 'note') && text) {
              navigator.clipboard.writeText(text).then(() => {
                showNotification('üìã Texto copiado para a √°rea de transfer√™ncia!');
                beep();
                copyCount++;
                updateStats();
              });
            }

            searchSuggestions.classList.add('hidden');
            searchInput.value = '';
            clearSearchBtn.classList.remove('active');
          });
        });
      }

      // ========================================
      // ===== QR CODE FUNCTIONS =====
      // ========================================
      let currentQRCode = null;
      function openQRCodeModal(url, title) {
        const modal = document.getElementById('qrcodeModal');
        const container = document.getElementById('qrcodeContainer');
        container.innerHTML = '';
        currentQRCode = new QRCode(container, {
          text: url,
          width: 256,
          height: 256,
          colorDark: "#2D3277",
          colorLight: "#FFFFFF",
          correctLevel: QRCode.CorrectLevel.H
        });
        document.getElementById('qrcodeTitle').textContent = title;
        document.getElementById('qrcodeUrl').textContent = url;
        modal.classList.add('active');
      }

      window.closeQRCodeModal = () => document.getElementById('qrcodeModal').classList.remove('active');
      document.getElementById('qrcodeModal')?.addEventListener('click', (e) => {
        if (e.target === e.currentTarget) closeQRCodeModal();
      });

      document.getElementById('qrcodeModal')?.addEventListener('touchstart', e => touchStartX = e.touches[0].clientX);
      document.getElementById('qrcodeModal')?.addEventListener('touchend', e => {
        const diff = e.changedTouches[0].clientX - touchStartX;
        if (Math.abs(diff) > 100) closeQRCodeModal();
      });

      // ========================================
      // ===== 7. HIST√ìRICO DE LINKS ACESSADOS =====
      // ========================================

      function getLinkHistory() {
        return JSON.parse(localStorage.getItem('linkHistory') || '[]');
      }

      function saveLinkHistory(history) {
        localStorage.setItem('linkHistory', JSON.stringify(history));
      }

      function trackLinkAccess(url, label, icon) {
        let history = getLinkHistory();
        history = history.filter(item => item.url !== url);
        history.unshift({ url, label, icon, timestamp: Date.now() });
        history = history.slice(0, 10);
        saveLinkHistory(history);
        updateHistoryUI();
        updateHistoryCount();
      }

      function updateHistoryUI() {
        const historyCard = document.getElementById('historyCard');
        const historyList = document.getElementById('historyList');
        const history = getLinkHistory();

        if (history.length === 0) {
          historyCard.style.display = 'none';
          return;
        }

        historyCard.style.display = 'block';
        historyList.innerHTML = '';

        history.forEach(item => {
          const timeAgo = getTimeAgo(item.timestamp);
          const historyItem = document.createElement('div');
          historyItem.className = 'history-item';
          historyItem.innerHTML = `
            <div class="history-item-info">
              <span class="history-item-icon">${item.icon}</span>
              <div class="history-item-details">
                <div class="history-item-label">${escapeHTML(item.label)}</div>
                <div class="history-item-time">${timeAgo}</div>
              </div>
            </div>
          `;
          historyItem.addEventListener('click', () => {
            window.open(item.url, '_blank', 'noopener,noreferrer');
            trackLinkAccess(item.url, item.label, item.icon);
          });
          historyList.appendChild(historyItem);
        });
      }

      function updateHistoryCount() {
        const history = getLinkHistory();
        const historyCountEl = document.getElementById('historyCount');
        if (historyCountEl) animateNumber(historyCountEl, history.length);
      }

      document.getElementById('clearHistoryBtn')?.addEventListener('click', () => {
        if (confirm('üóëÔ∏è Deseja limpar todo o hist√≥rico de links acessados?')) {
          localStorage.removeItem('linkHistory');
          updateHistoryUI();
          updateHistoryCount();
          showNotification('üóëÔ∏è Hist√≥rico limpo com sucesso!');
        }
      });

      // ========================================
      // ===== 20. NOTIFICA√á√ïES PUSH CORRIGIDO =====
      // ========================================

      const notificationRequested = localStorage.getItem('notificationRequested') === 'true';

      function showNotification(message, options = {}) {
        if ('Notification' in window && Notification.permission === 'granted') {
          new Notification('IS Tools Portal | Mercado Livre', {
            body: message,
            icon: 'https://i.imgur.com/U0qdo1j.png',
            badge: 'https://i.imgur.com/U0qdo1j.png',
            ...options
          });
        }

        const tooltip = document.getElementById('tooltip');
        if (tooltip) {
          tooltip.textContent = message;
          tooltip.style.left = '50%';
          tooltip.style.top = '100px';
          tooltip.style.animation = 'tooltipShow 3s ease-in-out forwards';
        }
      }

      if ('Notification' in window && Notification.permission === 'default' && !notificationRequested) {
        setTimeout(() => {
          Notification.requestPermission().then(permission => {
            localStorage.setItem('notificationRequested', 'true');
            if (permission === 'granted') {
              showNotification('üîî Notifica√ß√µes ativadas! Voc√™ receber√° alertas de lembretes e atualiza√ß√µes importantes.');
            }
          });
        }, 5000);
      }

      // ========================================
      // ===== TEMPLATES DE TEXTO PERSONALIZADOS =====
      // ========================================

      function getReadyTextsTemplate() {
        const now = new Date();
        const dayOfWeek = ['Domingo', 'Segunda-feira', 'Ter√ßa-feira', 'Quarta-feira', 'Quinta-feira', 'Sexta-feira', 'S√°bado'][now.getDay()];
        const currentDateTime = `${dayOfWeek}, ${now.toLocaleDateString('pt-BR')} √†s ${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;

        const workDaysText = (userProfile.workDaysNames && userProfile.workDaysNames.length > 0)
          ? userProfile.workDaysNames.join(', ')
          : 'Segunda a Sexta-feira';

        const shiftInfo = (userProfile.shift && userProfile.shiftTime)
          ? `${userProfile.shift} (${userProfile.shiftTime})`
          : 'Turno 2: 13h √†s 22h';

        return [
          {
            id: 'boas_vindas_personalizado',
            label: `Boas-vindas / In√≠cio do atendimento (${userProfile.name} ‚Äì IS-FIELD ${userProfile.shift || 'T2'})`,
            text: `Prezado(a),

Meu nome √© ${userProfile.name}, integrante da equipe IS-FIELD. Iniciei a an√°lise do seu ticket neste momento. Caso sejam necess√°rias informa√ß√µes adicionais ou esclarecimentos sobre o chamado, entrarei em contato por meio do Google Chat üí¨.

üìÖ Data/Hora: ${currentDateTime}
üïê Turno: ${shiftInfo}
üìÜ Dias de atendimento: ${workDaysText}

Permanecemos √† disposi√ß√£o para suporte.

Atenciosamente,
${userProfile.name} | Equipe IS-FIELD ${userProfile.shift || 'T2'} ü§ùüíôüíõ`
          },
          {
            id: 'chamado_resolvido_retirada',
            label: 'Chamado Resolvido / Retirada de Equipamento',
            text: `Prezado(a),

‚úÖ Seu chamado foi resolvido com sucesso!

üì¶ O equipamento j√° est√° dispon√≠vel para retirada na Ilha de TI.

üìã Instru√ß√µes:
‚Ä¢ Apresentar o n√∫mero deste chamado na ilha de TI
‚Ä¢ Prazo: 10 dias corridos
‚Ä¢ Hor√°rio de atendimento: ${shiftInfo}
‚Ä¢ Dias: ${workDaysText}

‚ö†Ô∏è IMPORTANTE: Caso n√£o seja retirado no prazo, o equipamento ser√° recolhido para o estoque de IS.

Qualquer d√∫vida, estamos √† disposi√ß√£o.

Atenciosamente,
${userProfile.name} | Equipe IS-FIELD ${userProfile.shift || 'T2'} ü§ùüíô`
          },
          {
            id: 'substituicao_perda_loss',
            label: 'Substitui√ß√£o por Perda ‚Äì Direcionamento para LOSS',
            text: `Prezado(a),

Informamos que o time de IS-FIELD n√£o realiza fluxo de substitui√ß√£o por perda de equipamentos da opera√ß√£o. Para dar continuidade ao processo, favor acionar diretamente o time de LOSS (Loss Prevention).

Permanecemos √† disposi√ß√£o para demais suportes t√©cnicos.

Atenciosamente,
${userProfile.name} | Equipe IS-FIELD ${userProfile.shift || 'T2'} ü§ù`
          },
          {
            id: 'trazer_equip_validacao_simples',
            label: 'Trazer Equipamento para Valida√ß√£o (Simples)',
            text: `Prezado(a),

Para darmos continuidade ao atendimento, solicitamos que:

üìç Traga o equipamento at√© a Ilha de IS
üè∑Ô∏è Identifique o equipamento com o n√∫mero deste chamado
üïê Hor√°rio de atendimento: ${shiftInfo}
üìÖ Dias: ${workDaysText}

Nossa equipe realizar√° a valida√ß√£o e dar√° o retorno sobre a solu√ß√£o aplicada.

Aguardamos o equipamento para an√°lise.

Atenciosamente,
${userProfile.name} | Equipe IS-FIELD ${userProfile.shift || 'T2'} ü§ùüíô`
          },
          {
            id: 'coleta_informacoes_atendimento',
            label: 'Coleta de Informa√ß√µes para Atendimento',
            text: `Prezado(a),

Para darmos continuidade ao seu atendimento de forma eficiente, solicitamos que nos forne√ßa as seguintes informa√ß√µes:

üìã INFORMA√á√ïES NECESS√ÅRIAS:

üè¢ Setor ou Local:

üî¢ N¬∫ da Bancada:

‚ùå Erro/Problema:

üìù Observa√ß√µes adicionais:

üì∏ Foto evid√™ncia:

Quanto mais detalhes voc√™ fornecer, mais r√°pido conseguiremos resolver o seu chamado.

‚è∞ Atendimento: ${shiftInfo} | ${workDaysText}

Aguardamos seu retorno.

Atenciosamente,
${userProfile.name} | Equipe IS-FIELD ${userProfile.shift || 'T2'} ü§ùüíô`
          },
          {
            id: 'trazer_equip_validacao_assets',
            label: 'Valida√ß√£o de Equipamento + Poss√≠vel Envio para Assets',
            text: `Prezado(a),

Para an√°lise t√©cnica do equipamento, solicitamos que:

üìç PROCEDIMENTO:
1. Trazer o equipamento at√© a Ilha de IS
2. Identificar com o n√∫mero deste chamado
3. Nossa equipe realizar√° valida√ß√£o t√©cnica completa

üïê Hor√°rio: ${shiftInfo}
üìÖ Dias: ${workDaysText}

üîç AN√ÅLISE:
‚Ä¢ O equipamento ser√° recolhido para an√°lise detalhada
‚Ä¢ Ap√≥s valida√ß√£o, ser√° devolvido para a opera√ß√£o

‚ö†Ô∏è OBSERVA√á√ÉO IMPORTANTE:
Caso seja identificado dano no equipamento, ele ser√° encaminhado ao time de Assets para reparo ou substitui√ß√£o. Aguardaremos a reposi√ß√£o antes de realizar a devolu√ß√£o.

Atenciosamente,
${userProfile.name} | Equipe IS-FIELD ${userProfile.shift || 'T2'} ü§ùüíô`
          },
          {
            id: 'alta_demanda_notebooks_lista_espera',
            label: 'Alta Demanda de Notebooks / Lista de Espera',
            text: `Prezado(a),

üìä COMUNICADO - Alta Demanda de Notebooks

Informamos que estamos com um volume elevado de solicita√ß√µes de notebooks e, no momento, o atendimento est√° condicionado √† disponibilidade em nosso estoque.

üìã PROCEDIMENTO:
Para otimizar o fluxo de atendimento, seu chamado ser√° encerrado neste momento. Entretanto:

‚úÖ Seu nome ser√° registrado em nossa planilha de controle interno
üìû Entraremos em contato assim que houver equipamento dispon√≠vel
‚è∞ Hor√°rio de contato: ${shiftInfo}
üìÖ Dias: ${workDaysText}

üîî IMPORTANTE:
Voc√™ n√£o precisar√° abrir novo chamado. Nossa equipe entrar√° em contato proativamente quando tivermos disponibilidade.

Agradecemos pela compreens√£o e paci√™ncia.

Permanecemos √† disposi√ß√£o para demais suportes.

Atenciosamente,
${userProfile.name} | Equipe IS-FIELD ${userProfile.shift || 'T2'} ü§ùüíô`
          },
          {
            id: 'passagem_turno',
            label: `Passagem de Turno ${userProfile.shift || 'T2'}`,
            text: `üìã PASSAGEM DE TURNO - IS-FIELD ${userProfile.shift || 'T2'}

üë§ Respons√°vel: ${userProfile.name}
üìÖ Data: ${currentDateTime}
üïê Turno: ${shiftInfo}

‚úÖ ATIVIDADES REALIZADAS:
‚Ä¢ 
‚Ä¢ 
‚Ä¢ 

‚ö†Ô∏è PEND√äNCIAS:
‚Ä¢ 
‚Ä¢ 

üìä CHAMADOS:
‚Ä¢ Resolvidos: 
‚Ä¢ Em andamento: 
‚Ä¢ Aguardando retorno: 

üîß EQUIPAMENTOS:
‚Ä¢ Retirados para an√°lise: 
‚Ä¢ Dispon√≠veis para devolu√ß√£o: 

üí¨ OBSERVA√á√ïES IMPORTANTES:
‚Ä¢ 

---
Passagem realizada por: ${userProfile.name} | ${userProfile.shift || 'T2'} ü§ùüíô`
          }
        ];
      }

      // ========================================
      // ===== DADOS (Links, Dicas) =====
      // ========================================

      const linkCategories = [
        { categoryLabel: 'Acessos e Seguran√ßa', icon: 'üîê', items: [
          { label: 'C√≥digo 8 D√≠gitos', url: 'https://melihelp.adminml.com/auth0/35', icon: 'üîë' },
          { label: 'SHIELD Gmail Internos', url: 'https://shield.adminml.com/requests/create?c=4276', icon: 'üõ°Ô∏è' },
          { label: 'MDM', url: 'https://cn259.awmdm.com/AirWatch/Login?ReturnUrl=%2FAirWatch%2F#/Device/Dashboard', icon: 'üì±' },
          { label: 'AD - Acesso R√°pido', url: 'https://rds.local-is.net/RDWeb/WebClient/', icon: 'üñ•Ô∏è' }
        ]},
        { categoryLabel: 'Sistemas Internos', icon: '‚öôÔ∏è', items: [
          { label: 'Jira IS-SP02', url: 'https://mercadolibre.atlassian.net/issues/?filter=77203', icon: 'üìä' },
          { label: 'Mordor', url: 'https://melihelp-backoffice.adminml.com/home', icon: 'üè∞' },
          { label: 'Backoffice Impressoras', url: 'https://shipping-bo.adminml.com/devices-ucs/home', icon: 'üñ®Ô∏è' },
          { label: 'Labeling WMS SKU', url: 'https://wms.adminml.com/labeling?inventory=FRAG82348', icon: 'üì¶' }
        ]},
        { categoryLabel: 'Documenta√ß√£o e Formul√°rios', icon: 'üìã', items: [
          { label: 'Forms Entrada/Sa√≠da', url: 'https://docs.google.com/forms/d/e/1FAIpQLScJYFkVzCeoQQAkOrmWAistJHPUxzVcWpJ8LV784QZ49WyWfA/viewform', icon: 'üìù' },
          { label: 'Solicita√ß√£o de Manuten√ß√£o', url: 'https://docs.google.com/forms/d/e/1FAIpQLSc2J3LlUWGMMgbUesMe3IPguytFVUrpZaTiZ_3T1TVDTIslqg/viewform', icon: 'üîß' },
          { label: 'Base de Conhecimento', url: 'https://sites.google.com/mercadolivre.com/base-de-conhecimentos-ti/home', icon: 'üìö' },
          { label: 'Aplicativos Meli', url: 'https://sites.google.com/view/aplicativosmeli/in%C3%ADcio', icon: 'üì≤' },
          { label: 'Passagem de Turno', url: 'https://docs.google.com/spreadsheets/d/1_mIC_cvcrehFxTigNQ8OR9An4EPk5bBVZZdojRFBNek/edit?usp=sharing', icon: 'üîÑ' }
        ]}
      ];

      const itTips = [
        "ITIL: Lembre-se do princ√≠pio 'Focar no Valor'. Toda atividade realizada pela TI deve, de alguma forma, agregar valor para o neg√≥cio e para o cliente.",
        "ITSM: A Gest√£o de Incidentes busca restaurar o servi√ßo o mais r√°pido poss√≠vel, enquanto a Gest√£o de Problemas foca em encontrar e eliminar a causa raiz para prevenir futuros incidentes.",
        "COBIT: A governan√ßa de TI eficaz (EGIT) requer o equil√≠brio entre a realiza√ß√£o de benef√≠cios, a otimiza√ß√£o de riscos e a otimiza√ß√£o de recursos.",
        "Boas Pr√°ticas: Documente sempre! Uma documenta√ß√£o clara e concisa hoje economiza horas de troubleshooting para voc√™ (ou para um colega) amanh√£.",
        "ITIL 4: Conhe√ßa as quatro dimens√µes do Gerenciamento de Servi√ßos: Organiza√ß√µes e Pessoas, Informa√ß√£o e Tecnologia, Parceiros e Fornecedores, e Fluxos de Valor e Processos.",
        "Seguran√ßa: Suspeite de todos os e-mails que pedem informa√ß√µes confidenciais ou a√ß√µes urgentes. Verifique sempre o remetente e, na d√∫vida, n√£o clique.",
        "Produtividade: Antes de iniciar uma tarefa complexa, dedique 5 minutos para planejar os passos. O planejamento inicial pode economizar muito mais tempo do que o investido.",
        "Atalhos: Use Ctrl+K para pesquisar rapidamente. Pressione ESC para fechar modais. F11 ativa o modo apresenta√ß√£o!",
        "Notas R√°pidas: Duplo clique para editar nota, clique simples para copiar!",
        "Lembretes: Configure lembretes para tarefas recorrentes e nunca mais esque√ßa de fazer a passagem de turno!",
        "Temas: Experimente os 4 temas dispon√≠veis no header!",
        "Perfil: Configure seu turno e dias de trabalho clicando no seu nome. Os templates ser√£o personalizados automaticamente!"
      ];

      // ===== ELEMENTOS DO DOM =====
      const contentContainer = document.getElementById('contentContainer');
      const searchInput = document.getElementById('searchInput');
      const clearSearchBtn = document.getElementById('clearSearchBtn');
      const searchStatus = document.getElementById('searchStatus');
      const scrollTopBtn = document.getElementById('scrollTopBtn');
      const linkCountEl = document.getElementById('linkCount');
      const textCountEl = document.getElementById('textCount');
      const copyCountEl = document.getElementById('copyCount');
      const audioBip = document.getElementById('bip-audio');

      // ===== INICIALIZA√á√ÉO =====
      let copyCount = parseInt(localStorage.getItem('copyCount') || '0', 10);
      let totalLinks = 0;
      let totalTexts = 0;
      linkCategories.forEach(cat => totalLinks += cat.items.length);

      const beep = () => {
        try {
          audioBip.currentTime = 0;
          audioBip.play().catch(e => console.log('Audio play prevented:', e));
        } catch (e) {
          console.log('Audio error:', e);
        }
      };

      function animateNumber(element, target) {
        const duration = 1500;
        const startTime = performance.now();
        const startValue = parseInt(element.textContent, 10) || 0;

        function update(currentTime) {
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);
          const easeOutExpo = 1 - Math.pow(2, -10 * progress);
          const currentValue = Math.floor(easeOutExpo * (target - startValue) + startValue);
          element.textContent = currentValue;
          if (progress < 1) requestAnimationFrame(update);
        }
        requestAnimationFrame(update);
      }

      function updateStats() {
        const readyTextsTemplate = getReadyTextsTemplate();
        totalTexts = readyTextsTemplate.length;
        animateNumber(linkCountEl, totalLinks);
        animateNumber(textCountEl, totalTexts);
        animateNumber(copyCountEl, copyCount);
        localStorage.setItem('copyCount', String(copyCount));
      }

      function displayTipOfTheDay() {
        const tip = itTips[Math.floor(Math.random() * itTips.length)];
        document.getElementById('tipText').textContent = tip;
      }

      function escapeHTML(str) {
        const div = document.createElement('div');
        div.textContent = str;
        return div.innerHTML;
      }

      function showTooltip(message, targetElement) {
        const tooltip = document.getElementById('tooltip');
        const rect = targetElement.getBoundingClientRect();
        tooltip.innerHTML = escapeHTML(message);
        tooltip.style.left = `${rect.left + rect.width / 2}px`;
        tooltip.style.top = `${rect.top - 10}px`;
        tooltip.style.animation = 'none';
        requestAnimationFrame(() => {
          tooltip.style.animation = 'tooltipShow 2s ease-in-out forwards';
        });
      }

      function populateContent(filter = '') {
        contentContainer.innerHTML = '';
        const lowerCaseFilter = filter.toLowerCase().trim();
        let hasVisibleContent = false;
        const readyTextsTemplate = getReadyTextsTemplate();
        updateStats();

        const highlightText = (text, highlight) => {
          if (!highlight) return escapeHTML(text);
          const escapedText = escapeHTML(text);
          const escapedHighlight = highlight.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1");
          return escapedText.replace(new RegExp(escapedHighlight, 'gi'), match => `<mark>${match}</mark>`);
        };

        linkCategories.forEach(category => {
          const filteredItems = category.items.filter(item =>
            item.label.toLowerCase().includes(lowerCaseFilter) ||
            category.categoryLabel.toLowerCase().includes(lowerCaseFilter)
          );

          if (filteredItems.length > 0) {
            hasVisibleContent = true;

            const section = document.createElement('section');
            section.className = 'content-section';
            section.innerHTML = `
              <div class="section-header">
                <div class="section-icon">${category.icon}</div>
                <div class="section-title-group">
                  <h2 class="section-title">${category.categoryLabel}</h2>
                  <p class="section-subtitle">${filteredItems.length} ${filteredItems.length === 1 ? 'recurso encontrado' : 'recursos encontrados'}</p>
                </div>
              </div>
            `;

            const grid = document.createElement('div');
            grid.className = 'links-grid';

            filteredItems.forEach(item => {
              const card = document.createElement('div');
              card.className = 'link-card';
              const highlightedLabel = highlightText(item.label, lowerCaseFilter);

              card.innerHTML = `
                <div class="link-content">
                  <div class="link-icon">${item.icon}</div>
                  <div class="link-details">
                    <span class="link-title">${highlightedLabel}</span>
                    <span class="link-url">${escapeHTML(item.url)}</span>
                  </div>
                </div>
                <div class="link-actions">
                  <a href="${item.url}" target="_blank" rel="noopener noreferrer"
                     class="btn btn-primary"
                     data-url="${item.url}"
                     data-label="${escapeHTML(item.label)}"
                     data-icon="${item.icon}">Acessar</a>
                  <button class="btn btn-qrcode"
                          data-url="${item.url}"
                          data-title="${escapeHTML(item.label)}"
                          data-action="qrcode"
                          title="Gerar QR Code">üì±</button>
                  <button class="btn btn-secondary"
                          data-link="${item.url}"
                          data-action="copy"
                          title="Copiar link">üìã</button>
                </div>
              `;
              grid.appendChild(card);
            });

            section.appendChild(grid);
            contentContainer.appendChild(section);
          }
        });

        const filteredTexts = readyTextsTemplate.filter(item =>
          item.text.toLowerCase().includes(lowerCaseFilter) ||
          item.label.toLowerCase().includes(lowerCaseFilter)
        );

        if (filteredTexts.length > 0) {
          hasVisibleContent = true;
          const section = document.createElement('section');
          section.className = 'content-section';
          section.innerHTML = `
            <div class="section-header">
              <div class="section-icon">üìù</div>
              <div class="section-title-group">
                <h2 class="section-title">Templates de Texto</h2>
                <p class="section-subtitle">Personalizados para ${escapeHTML(userProfile.name)}</p>
              </div>
            </div>
          `;

          filteredTexts.forEach(item => {
            const card = document.createElement('div');
            card.className = 'text-card';
            const highlightedLabel = highlightText(item.label, lowerCaseFilter);
            const highlightedContent = highlightText(item.text, lowerCaseFilter).replace(/\n/g, '<br>');

            card.innerHTML = `
              <div class="text-card-header">
                <h3 class="text-card-title">${highlightedLabel}</h3>
                <span class="text-badge">Personalizado</span>
              </div>
              <div class="text-content"
                   data-text="${escapeHTML(item.text)}"
                   data-action="copy-text"
                   role="button"
                   tabindex="0"
                   title="Clique para copiar">
                <span class="copy-feedback-icon">‚úì</span>
                ${highlightedContent}
              </div>
            `;
            section.appendChild(card);
          });

          contentContainer.appendChild(section);
        }

        searchStatus.classList.toggle('hidden', !filter);
        searchStatus.textContent = filter
          ? (hasVisibleContent ? `‚úì Encontrados resultados para "${escapeHTML(filter)}"` : `‚úó Nenhum resultado encontrado para "${escapeHTML(filter)}"`)
          : '';

        init3DEffect();
      }

      // ===== INICIALIZA√á√ÉO E ESTAT√çSTICAS =====
      updateStats();
      displayTipOfTheDay();
      updateHistoryUI();
      updateHistoryCount();

      // ========================================
      // ===== SEARCH UI =====
      // ========================================

      document.addEventListener('click', (e) => {
        if (!searchInput.contains(e.target) && !searchSuggestions.contains(e.target)) {
          searchSuggestions.classList.add('hidden');
        }
      });

      let searchTimeout;
      const handleSearch = () => {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
          const searchTerm = searchInput.value;

          if (searchTerm.length >= 2) showSuggestions(searchTerm);
          else searchSuggestions.classList.add('hidden');

          populateContent(searchTerm);
          clearSearchBtn.classList.toggle('active', searchTerm.length > 0);

          const url = new URL(window.location);
          searchTerm ? url.searchParams.set('q', searchTerm) : url.searchParams.delete('q');
          window.history.replaceState({}, '', url);
        }, 300);
      };

      searchInput.addEventListener('input', handleSearch);
      searchInput.addEventListener('focus', () => {
        if (searchInput.value.length >= 2) showSuggestions(searchInput.value);
      });

      clearSearchBtn.addEventListener('click', () => {
        searchInput.value = '';
        handleSearch();
        searchInput.focus();
        searchSuggestions.classList.add('hidden');
      });

      // ========================================
      // ===== EVENT LISTENERS (Conte√∫do) =====
      // ========================================

      contentContainer.addEventListener('click', (event) => {
        const target = event.target.closest('[data-action]');

        if (!target) {
          const primaryBtn = event.target.closest('.btn-primary');
          if (primaryBtn) {
            const url = primaryBtn.dataset.url;
            const label = primaryBtn.dataset.label;
            const icon = primaryBtn.dataset.icon;
            if (url && label && icon) trackLinkAccess(url, label, icon);
          }
          return;
        }

        const action = target.dataset.action;
        if (action === 'qrcode') {
          openQRCodeModal(target.dataset.url, target.dataset.title);
        } else if (action === 'copy') {
          navigator.clipboard.writeText(target.dataset.link).then(() => {
            beep();
            showTooltip('‚úì Link copiado!', target);
            copyCount++;
            updateStats();
          }).catch(err => {
            console.error('Erro ao copiar:', err);
            alert('‚ùå Erro ao copiar o link.');
          });
        } else if (action === 'copy-text') {
          const textToCopy = target.dataset.text;
          navigator.clipboard.writeText(textToCopy).then(() => {
            beep();
            target.classList.add('copied-success');
            copyCount++;
            updateStats();
            setTimeout(() => target.classList.remove('copied-success'), 1200);
          }).catch(err => {
            console.error('Erro ao copiar:', err);
            alert('‚ùå Erro ao copiar o texto.');
          });
        }
      });

      // ========================================
      // ===== ATALHOS DE TECLADO =====
      // ========================================

      document.addEventListener('keydown', (e) => {
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
          e.preventDefault();
          searchInput.focus();
          searchInput.select();
        }

        if (e.key === 'Escape') {
          closeQRCodeModal();
          forecastModal?.classList.remove('active');
          closeMobileMenu();
          searchSuggestions?.classList.add('hidden');
          themeDropdown?.classList.remove('active');

          // S√≥ permite ESC fechar o modal do perfil se j√° configurou
          if (userProfile.shift) closeProfileConfig();
        }

        if (e.key === 'F11') {
          e.preventDefault();
          togglePresentationMode();
        }

        if (e.altKey && e.key === 'n') { e.preventDefault(); addNote(); }
        if (e.altKey && e.key === 'r') { e.preventDefault(); addReminder(); }
      });

      // ========================================
      // ===== SCROLL TOP =====
      // ========================================

      window.addEventListener('scroll', () => {
        scrollTopBtn.classList.toggle('visible', window.scrollY > 400);
      }, { passive: true });

      scrollTopBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });

      // ========================================
      // ===== EFEITO 3D NOS CARDS =====
      // ========================================

      function init3DEffect() {
        const cards = document.querySelectorAll('.link-card');
        cards.forEach(card => {
          card.addEventListener('mousemove', (e) => {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            const { width, height } = rect;
            const rotateX = (y / height - 0.5) * -14;
            const rotateY = (x / width - 0.5) * 14;
            card.style.transform = `scale(1.03) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
          });
          card.addEventListener('mouseleave', () => {
            card.style.transform = 'scale(1) rotateX(0deg) rotateY(0deg)';
          });
        });
      }

      // ========================================
      // ===== INICIALIZA√á√ÉO DA P√ÅGINA =====
      // ========================================

      const searchTermFromUrl = new URLSearchParams(window.location.search).get('q');
      if (searchTermFromUrl) searchInput.value = searchTermFromUrl;

      setTimeout(() => {
        populateContent(searchInput.value);
        clearSearchBtn.classList.toggle('active', searchInput.value.length > 0);
        init3DEffect();
      }, 800);

      setTimeout(() => {
        const loadingScreen = document.querySelector('.loading-screen');
        if (loadingScreen) loadingScreen.style.display = 'none';
      }, 1500);

      setTimeout(() => {
        showNotification(`üöÄ Bem-vindo(a), ${userProfile.name}!\n\n‚ú® Novas funcionalidades:\nüë§ Perfil Personalizado (Turno + Dias)\nüìù Notas R√°pidas\nüîî Sistema de Lembretes\nüîç Busca com Autocomplete\nüé® 4 Temas Dispon√≠veis\n‚òÅÔ∏è Clima Detalhado`, {
          tag: 'welcome',
          requireInteraction: false
        });
      }, 3000);

      // Easter Egg: Confete ao clicar 10x no logo
      let logoClicks = 0;
      document.querySelector('.brand-logo')?.addEventListener('click', () => {
        logoClicks++;
        if (logoClicks === 10) {
          showNotification('üéâ Easter Egg Desbloqueado! Voc√™ encontrou o confete secreto do Mercado Livre!');
          createConfetti();
          logoClicks = 0;
        }
        setTimeout(() => logoClicks = 0, 3000);
      });

      function createConfetti() {
        const colors = ['#FFE600', '#2D3277', '#3483FA', '#00A650'];
        for (let i = 0; i < 50; i++) {
          const confetti = document.createElement('div');
          confetti.style.position = 'fixed';
          confetti.style.width = '10px';
          confetti.style.height = '10px';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.left = Math.random() * 100 + '%';
          confetti.style.top = '-10px';
          confetti.style.opacity = '1';
          confetti.style.zIndex = '10000';
          confetti.style.borderRadius = '50%';
          confetti.style.pointerEvents = 'none';
          document.body.appendChild(confetti);

          const duration = Math.random() * 3 + 2;
          const xMovement = (Math.random() - 0.5) * 200;

          confetti.animate([
            { transform: 'translateY(0) translateX(0) rotate(0deg)', opacity: 1 },
            { transform: `translateY(100vh) translateX(${xMovement}px) rotate(720deg)`, opacity: 0 }
          ], {
            duration: duration * 1000,
            easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
          }).onfinish = () => confetti.remove();
        }
      }

    });
  </script>

</body>
</html>
